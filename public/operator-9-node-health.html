
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="assets/pbclogo_with_background.png" rel="icon"/>
<meta content="mkdocs-1.3.0, mkdocs-material-8.3.9" name="generator"/>
<title>Run a node 9 - Node health and maintenance - Partisia Blockchain</title>
<link href="assets/stylesheets/main.1d29e8d0.min.css" rel="stylesheet"/>
<link href="assets/stylesheets/palette.cbb835fc.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL(".",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="none" data-md-color-primary="none" data-md-color-scheme="" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#node-health-and-maintenance">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible">
<meta content="width=device-width, initial-scale=1.0" name="viewport">
<title>Document</title>
</meta></meta></meta></head>
<body>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<div class="logo-flex">
<a aria-label="Partisia Blockchain" data-md-component="logo" href="https://www.partisiablockchain.com/" title="Partisia Blockchain">
<img alt="logo" src="assets/pbclogo.png"/>
</a>
<div class="logo-text">
<p>Partisia</p>
<p>Blockchain</p>
</div>
<div class="header-link">
<h2>DOCUMENTATION</h2>
</div>
</div>
<div class="icon-flex">
<label class="md-header__button md-icon drawer" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path>
</svg>
</label>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z">
</path>
</svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text">
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z">
</path>
</svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path>
</svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
<path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z">
</path>
</svg>
</button>
</nav>
</input></form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
                    Initializing search
                  </div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>
</div>
</nav>
</header>
</body>
</html>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Partisia Blockchain" class="md-nav__button md-logo" data-md-component="logo" href="https://www.partisiablockchain.com/" title="Partisia Blockchain">
<img alt="logo" src="assets/pbclogo.png"/>
</a>
    Partisia Blockchain
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="index.html">
        Home
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2">
          Getting started as a node operator
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Getting started as a node operator" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Getting started as a node operator
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="whatisano.html">
        What is a node operator
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="operator-0-introduction.html">
        Run a node - Introduction and index
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="operator-1-specs.html">
        Run a node 1 - Specs
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="operator-2-reader.html">
        Run a node 2 - Local reader
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="operator-3-vps.html">
        Run a node 3 - VPS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="operator-4-security.html">
        Run a node 4 - VPS security
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="operator-5-reader-vps.html">
        Run a node 5 - Reader node on VPS
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="operator-6-keys.html">
        Run a node 6 - Keys for BP config and registration
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="operator-7-bp.html">
        Run a node 7 - Change node config from reader to block producer
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="operator-8-registration.html">
        Run a node 8 - Register your node in the MPC Explorer
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Run a node 9 - Node health and maintenance
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="operator-9-node-health.html">
        Run a node 9 - Node health and maintenance
      </a>
<!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Determine title -->
<!-- Table of contents -->
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<!--
    Hack: check whether the content contains a h1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  -->
<!-- Table of contents title and list -->
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
    Contents
  </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#the-following-section-covers-how-to">
    The following section covers how to:
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#updating">
    Updating
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get-automatic-updates">
    Get automatic updates
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#check-software-version-and-uptime-with-your-personal-endpoint">
    Check software version and uptime with your personal endpoint
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#how-to-find-and-use-metrics-to-measure-performance">
    How to find and use metrics to measure performance
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logs-and-storage">
    Logs and storage
  </a>
<!-- Table of contents list -->
<nav aria-label="Logs and storage" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#common-log-messages">
    Common log messages
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sorting-the-logs">
    Sorting the logs
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#how-to-migrate-your-node-to-a-different-vps">
    How to migrate your node to a different VPS
  </a>
<!-- Table of contents list -->
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="update-transaction.html">
        Update your node's public information
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="https://partisiablockchain.gitlab.io/documentation/rest">
        REST API documentation
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3">
          Getting started as a developer
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Getting started as a developer" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Getting started as a developer
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="contract-development.html">
        What is a smart contract
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="download-sdk.html">
        Download SDK for contract development
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="compile-sdk.html">
        Compile and deploy contracts
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="programmers_guide.html">
        Programmer's Guide to PBC SDK
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="abiv_latest.html">
        ABI 4.0 specification
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="abiv3_1.html">
        ABI 3.1 specification
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="voting-contract.html">
        Create a smart contract for a specific scenario
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="vickrey.html">
        Zero Knowledge Contracts
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          Concepts
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Concepts" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Concepts
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="accounts.html">
        Accounts
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="byoc.html">
        BYOC and gas
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="mpc-tokens.html">
        MPC tokens
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="transactions.html">
        Transactions
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="block.html">
        Blocks
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="consensus.html">
        Consensus Model
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="shards.html">
        Shards
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="keys.html">
        Public key cryptography
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
          MPC20
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="MPC20" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          MPC20
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="mpcactions.html">
        Actions
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6">
          MPC1155
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="MPC1155" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          MPC1155
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="mpc1155actions.html">
        Actions
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7">
          MPC721
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="MPC721" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          MPC721
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="mpc721actions.html">
        Actions
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8">
          MPC20-staking
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="MPC20-staking" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          MPC20-staking
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="mpc20stakingactions.html">
        Actions
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Determine title -->
<!-- Table of contents -->
<nav aria-label="Table of contents" class="md-nav md-nav--secondary">
<!--
    Hack: check whether the content contains a h1 headline. If it does, the
    top-level anchor must be skipped, since it would be redundant to the link
    to the current page that is located just above the anchor. Therefore we
    directly continue with the children of the anchor.
  -->
<!-- Table of contents title and list -->
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
    Contents
  </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#the-following-section-covers-how-to">
    The following section covers how to:
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#updating">
    Updating
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#get-automatic-updates">
    Get automatic updates
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#check-software-version-and-uptime-with-your-personal-endpoint">
    Check software version and uptime with your personal endpoint
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#how-to-find-and-use-metrics-to-measure-performance">
    How to find and use metrics to measure performance
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#logs-and-storage">
    Logs and storage
  </a>
<!-- Table of contents list -->
<nav aria-label="Logs and storage" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#common-log-messages">
    Common log messages
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sorting-the-logs">
    Sorting the logs
  </a>
<!-- Table of contents list -->
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#how-to-migrate-your-node-to-a-different-vps">
    How to migrate your node to a different VPS
  </a>
<!-- Table of contents list -->
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="node-health-and-maintenance">Node health and maintenance</h1>
<p>If your node is unattended for to long it can run into problems. Problems that may affect your node's earning potential and the safety of your stake. Your node has to be up-to-date to participate in the committee. If your  node is not updated regularly, it is bound to fall out of committee. Only nodes up-to-date can participate in forming a new committee, so every time a new committee is formed from registered nodes, only nodes with newest version of Partisia Software can be included. 
Your node can only perform services and by extension earn rewards when in the committee. After you are included you want to make sure your node is able to continue to participate.<br/>
To optimize your nodes earning potential you should implement automatic updates and check up on the node's performance regularly.</p>
<p><strong>Your node is working when:</strong> </p>
<ul>
<li>Your node is producing blocks when chosen as producer. At the moment nodes take turns based on their index from the list of <a href="https://dashboard.partisiablockchain.com/info/consensus">committee members</a>. This can be affirmed in the metrics explained below.   </li>
<li>Your node is signing blocks. Can be checked in the logs as explained below.   </li>
<li>Your node is running the newest version of Partisia Software. The easiest way to assure this is by implementing automatic updates.    </li>
</ul>
<h3 id="the-following-section-covers-how-to">The following section covers how to:</h3>
<ul>
<li>Update your node manually.   </li>
<li>Implement automatic updates.   </li>
<li>Check your IP accessibility and version of Partisia Software.   </li>
<li>Metrics of node performance - See if your node is producing blocks and have a reasonable finalization time.   </li>
<li>Interpret log messages and debugging problems - See if your node is signing blocks.   </li>
<li>How to migrate your node to a different VPS</li>
</ul>
<h2 id="updating">Updating</h2>
<p>In the following it is assumed we assume you are using <code>~/pbc</code> as directory for your <code>docker-compose.yml</code>.</p>
<p>Updating the PBC node is a simple 3-step process:</p>
<p><div class="highlight"><pre><span></span><code><span class="nb">cd</span> ~/pbc
</code></pre></div>
<div class="highlight"><pre><span></span><code>docker-compose pull
</code></pre></div>
<div class="highlight"><pre><span></span><code>docker-compose up -d
</code></pre></div></p>
<p>First you change the directory to where you put your <code>docker-compose.yml</code>. You then pull the newest image and start it again. You should now be running the newest version of the software.</p>
<h2 id="get-automatic-updates">Get automatic updates</h2>
<p>To set up automatic updates you will need Cron, which is a time based job scheduler. See if you have the Cron package installed:</p>
<div class="highlight"><pre><span></span><code>dpkg -l cron
</code></pre></div>
<p>If not:   </p>
<div class="highlight"><pre><span></span><code>apt-get install cron
</code></pre></div>
<p>Now you are ready to start.</p>
<p><strong>1. Create the auto update script:</strong></p>
<p>Go to the directory where <code>docker-compose.yml</code> is located.</p>
<div class="highlight"><pre><span></span><code><span class="nb">cd</span> ~/pbc
</code></pre></div>
<p>Open the file in nano:</p>
<div class="highlight"><pre><span></span><code>nano update_docker.sh
</code></pre></div>
<p>Paste the following content into the file:</p>
<p><div class="highlight"><pre><span></span><code><span class="c1">#!/bin/bash</span><span class="w"></span>

<span class="l l-Scalar l-Scalar-Plain">DATETIME=$(date -u)</span><span class="w"></span>
<span class="l l-Scalar l-Scalar-Plain">echo "$DATETIME"</span><span class="w"></span>

<span class="l l-Scalar l-Scalar-Plain">cd ~/pbc</span><span class="w"></span>

<span class="l l-Scalar l-Scalar-Plain">/usr/local/bin/docker-compose pull</span><span class="w"></span>
<span class="l l-Scalar l-Scalar-Plain">/usr/local/bin/docker-compose up -d</span><span class="w"></span>
</code></pre></div>
Save the file by pressing <code>CTRL+O</code> and then <code>ENTER</code> and then <code>CTRL+X</code>.</p>
<p><strong>2. Make the file executable:</strong></p>
<div class="highlight"><pre><span></span><code>chmod +x update_docker.sh
</code></pre></div>
<p>Type <code>ls -l</code> and confirm <em>update_docker.sh</em>  has an x in its first group of attributes, that means it is now executable.</p>
<p><strong>3. Set update frequency to 30 minutes:</strong></p>
<p><div class="highlight"><pre><span></span><code>crontab -e
</code></pre></div>
This command allows you to add a rule for a scheduled event. You will be asked to choose your preferred text editor to edit the cron rule. If you have not already chosen a preference.   </p>
<p>Paste and add the rule to the scheduler. <strong>NB</strong>. No "#" in front of the rule:
<div class="highlight"><pre><span></span><code>*/30 * * * * /home/pbc/update_docker.sh &gt;&gt; /home/pbc/update.log <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</code></pre></div>
Press <code>CTRL+X</code> and then <code>Y</code> and then <code>ENTER</code>.</p>
<p>This rule will make the script run and thereby check for available updates every 30 minutes.</p>
<p>To see if the script is working you can read the update log with the <em>cat command</em>:</p>
<p><div class="highlight"><pre><span></span><code>cat update.log
</code></pre></div>
You might want to change the timing the first time, so you do not have to wait 30 minutes to confirm that it works.</p>
<p>If your version is up-to-date, you should see: <br/>
<div class="highlight"><pre><span></span><code>YOUR_CONTAINER_NAME is up-to-date
</code></pre></div>
If you are currently updating you should see:
<div class="highlight"><pre><span></span><code>Pulling YOUR_CONTAINER_NAME ... pulling from privacyblockchain/de...
</code></pre></div>
<strong>NB.</strong> Never include a shutdown command in your update script, otherwise your node will go offline every time checks for updates.</p>
<h2 id="check-software-version-and-uptime-with-your-personal-endpoint">Check software version and uptime with your personal endpoint</h2>
<p>Your node can only get registered as a block producer and participate in the committee if your host IP is reachable, and you are running the newest version of the Partisia software. 
Replace the letters in the URL below with the IP of the server hosting your node. This should navigate you to a page showing a JSON, with the following information:</p>
<p>http://PUBLIC_IP_OF_SERVER_HOSTING_THIS_NODE:9888/status</p>
<p><div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="err">versio</span><span class="kc">n</span><span class="err">Ide</span><span class="kc">nt</span><span class="err">i</span><span class="kc">f</span><span class="err">ier</span><span class="p">:</span><span class="w"> </span><span class="s2">"VERSION_NUMBER"</span><span class="p">,</span><span class="w">  </span>
<span class="err">up</span><span class="kc">t</span><span class="err">ime</span><span class="p">:</span><span class="w"> </span><span class="kc">nu</span><span class="err">mber</span><span class="p">,</span><span class="w"></span>
<span class="mi">-</span><span class="w"> </span><span class="err">k</span><span class="kc">n</span><span class="err">ow</span><span class="kc">n</span><span class="err">PeersNe</span><span class="kc">t</span><span class="err">workKeys</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">lis</span><span class="kc">t</span><span class="err">O</span><span class="kc">f</span><span class="err">Producers</span><span class="p">],</span><span class="w"></span>
<span class="w">  </span><span class="kc">net</span><span class="err">workKey</span><span class="p">:</span><span class="w"> </span><span class="s2">"NETWORK_PUBLIC_KEY"</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="err">blockchai</span><span class="kc">n</span><span class="err">Address</span><span class="p">:</span><span class="w"> </span><span class="s2">"BLOCKCHAIN_ADDRESS"</span><span class="w"></span>
</code></pre></div>
You can see which version of Partisia software you are running. Uptime is measured in milliseconds, and show how long your server has been running uninterrupted.</p>
<p>If you cannot open your status endpoint there is probably a problem with the opening of ports of the VPS. See which ports are allowed through the firewall:   </p>
<p><div class="highlight"><pre><span></span><code>sudo ufw status
</code></pre></div>
Make sure you have opened for ports 9888-9897. If not consult instructions <a href="operator-4-security.html">here</a>.</p>
<h2 id="how-to-find-and-use-metrics-to-measure-performance">How to find and use metrics to measure performance</h2>
<p>You should visit the metrics, where you can get important indicators of your node's performance. It is possible to see metrics for one shard, or for the whole chain, you can also see specifics of your node.</p>
<p><strong>Make the metrics give you the information you are looking for:</strong>
In this example I will look at the latest 400 minutes on <strong>Shard2</strong>. Notice, that you add the time you wish to look back in the end of the URL, in this case 400 minutes. You can change shard number in the URL to see <strong>Shard0</strong> and <strong>Shard1</strong>. It takes about a day (1500 minutes) for all producers to have had their turn. If there are a lot of votes due to reset blocks, it can take longer.</p>
<p><a href="https://betareader.partisiablockchain.com/shards/Shard2/metrics/blocks/400">https://betareader.partisiablockchain.com/shards/Shard2/metrics/blocks/400</a></p>
<p>In case of problems it makes sense  to look at each shard, because failures can be shard specific. And different tasks happen on different shards.</p>
<p>It is highly recommendable to use a json extension for your browser, or paste the text into an IDE, otherwise it might be quite difficult to read the json file.   <br/>
Explanation of the terms in the output follows below.
Your output should look like the ordered list you see here:   </p>
<p><div class="highlight"><pre><span></span><code><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="err">earlies</span><span class="kc">t</span><span class="err">BlockProduc</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">1651026257696</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="err">la</span><span class="kc">test</span><span class="err">BlockProduc</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">1651050197085</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="kc">transa</span><span class="err">c</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Cou</span><span class="kc">nt</span><span class="p">:</span><span class="w"> </span><span class="mi">1298</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="err">eve</span><span class="kc">nt</span><span class="err">Tra</span><span class="kc">nsa</span><span class="err">c</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Cou</span><span class="kc">nt</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="err">blockCou</span><span class="kc">nt</span><span class="p">:</span><span class="w"> </span><span class="mi">967</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="err">rese</span><span class="kc">t</span><span class="err">BlockCou</span><span class="kc">nt</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="err">commi</span><span class="kc">ttees</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="mi">2</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="err">producers</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="mi">63</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">2704</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="mi">65</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">2726</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="mi">66</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">3056</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="mi">67</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mf">2799.5</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="mi">68</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">3035</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="mi">69</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">3159</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="mi">70</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">3061</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="mi">71</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">2853</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="mi">72</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">3259</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="mi">73</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">3045</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="mi">74</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">3572</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="mi">-1</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="err">blocksProduced</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">          </span><span class="err">media</span><span class="kc">n</span><span class="err">Fi</span><span class="kc">nal</span><span class="err">iza</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">Time</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
The index of your node on this list corresponds to the index of listed committee members <a href="https://dashboard.partisiablockchain.com/info/consensus">here</a>. <br/>
<strong>NB.</strong> You index can change every time a new committee is formed. </p>
<p>The number of blocks your node produced should be 100, unless a producer at the previous index was offline or did not finish producing their 100 blocks. If there is a quota of leftover blocks from the previous producer, they will be produced by your node minus one reset block to change current producer. So if the node before yours produced 20 blocks and then stopped, your node would optimally produce 79 blocks.</p>
<p><strong>resetBlockCount:</strong> <br/>
The first number to notice is <em>resetBlockCount</em>, this number is in our case different from zero, which means some nodes in the network have performed suboptimally. A node produces 100 blocks each time it is chosen as producer, unless it has to produce leftover blocks from a previous producer, or if one or more reset blocks have been used to skip offline producers.
We can see in the <em>resetBlockCount</em> that 1 reset blocks were produced. The reset block was caused by the producer with index 64 offline or misconfigured. The nodes with index 65 only produced 99 blocks because one reset block is expended when skipping the unavailable producer. The first and last producer on the list might look like they did not perform, but that is due to the time when we pull the list.</p>
<p><strong>medianFinalizationTime:</strong> <br/>
Each node has a <em>medianFinalizationTime</em>, the median time used by the node to produce a block. If this number is significantly higher for your node than the rest on the list. Then your node might have to weak hardware or something is causing the node to under perform.   </p>
<p>You can see blocks produced on the entire chain by modifying the URL:   </p>
<p><a href="https://betareader.partisiablockchain.com/metrics/blocks/400">https://betareader.partisiablockchain.com/metrics/blocks/400</a></p>
<h2 id="logs-and-storage">Logs and storage</h2>
<p>You use the docker logs to see activity on the chain and if your node is signing blocks. The logs of the node are written to the standard output of the container and are therefore managed using the tools provided by Docker. You can read about configuring Docker logs <a href="https://docs.docker.com/config/containers/logging/configure/">here</a>.</p>
<p>The storage of the node is based on RocksDB. It is write-heavy and will increase in size for the foreseeable future. The number and size of reads and writes is entirely dependent on the traffic on the network.</p>
<h3 id="common-log-messages">Common log messages</h3>
<p><strong>Signing BlockState</strong> - All is well. <br/>
<strong>Not signing as shutdown is active</strong> - You may assume all is well. Shutdown happens when chosen producer fails to produce a block, a reset block is made, and then a new node is chosen for the role of producer. <br/>
<strong>Not signing</strong> - This is not a good sign, you are not signing blocks. First, check if you are on the list of <a href="https://mpcexplorer.com/validators">current committee members</a>, if you are not, and you have already sent the Register Transaction, then you should search for your PBC account address in the state the <a href="https://dashboard.partisiablockchain.com/info/contract/04203b77743ad0ca831df9430a6be515195733ad91">Block Producer Orchestration Contract</a> (BPOC). There is a field for each producer called "status": - after this you will see either "CONFIRMED" or "PENDING". Confirmed means you are registered as a block producer and are formally eligible to participate in the committee. Pending means your public information is still awaiting manual approval from the team cross-checking the information you have given. If you cannot find your address in the BPOC at all you need to resend your registration. Alternatively, if you are on the list of committee members and still get persistent “Not signing” then you almost certainly have some problem in your config.json Probably you have a wrong or no key in one of the fields: networkKey, accountKey or finalizationKey, or you forgot to add the host IP address. <br/>
<strong>Got a message with wrong protocol identifier</strong> - This message comes every time a shutdown has occurred (in other words whenever a producer has not produced the block he is supposed to). So, on its own that message does not indicate a problem. But, if the log just repeats and don't change to a new message saying Executing Block… it could suggest you are running an outdated version of our software, a version that does not pull the newest docker image automatically. <br/>
<strong>WebApplicationException. Status=404</strong> - You may assume all is well. You may encounter different types of not found errors in the logs. Most of them are not indicative of a problem at your end. They occur when a node in the network has not received what it expected you can in most cases see the address or producer index of the nodes related to the error.    </p>
<h3 id="sorting-the-logs">Sorting the logs</h3>
<p><strong>Latest logs:</strong></p>
<div class="highlight"><pre><span></span><code>docker logs -f nameOfDockerContainer
</code></pre></div>
<p>This will show the latest logs after they have caught up to present.</p>
<p><strong>Sorting by time:</strong> </p>
<p><div class="highlight"><pre><span></span><code>docker logs --since 1h  nameOfDockerContainer
</code></pre></div>
This will give you the latest hour of logs</p>
<p><strong>Sorting by number of lines:</strong></p>
<p><div class="highlight"><pre><span></span><code>docker logs --tail <span class="m">1000</span>  nameOfDockerContainer
</code></pre></div>
This will give you the latest 1000 lines of logs.</p>
<p><div class="highlight"><pre><span></span><code>docker logs --tail <span class="m">1000</span> -f  nameOfDockerContainer
</code></pre></div>
You can add the <code>-f</code> after a command to continue the logs afterwards.</p>
<p><strong>Sort for specific messages:</strong></p>
<p>You can use the <em>grep command</em> to get logs containing a specific string.</p>
<div class="highlight"><pre><span></span><code>docker logs --since 1h pbc-betanet-reader <span class="p">|</span> grep <span class="s2">"Signing BlockState"</span>
</code></pre></div>
<p>This will give you the blocks you have signed the last hour. You might also want to look for blocks you created when you were chosen as producer <code>| grep "Created Block"</code>.</p>
<h3 id="how-to-migrate-your-node-to-a-different-vps">How to migrate your node to a different VPS</h3>
<p>When changing VPS there are a few important precautions you take ensuring a problem free migration.</p>
<p><strong>You may never run two nodes performing baker services at the same time</strong> <br/>
Running two nodes with same config can be interpreted as malicious behavior.You can start a <a href="operator-5-reader-vps.html">reader node</a> on the new VPS. Then, when you are ready to change the <code>config.json</code> to the BP version, you stop the node from running on the old server:</p>
<div class="highlight"><pre><span></span><code>docker stop  nameOfDockerContainer
</code></pre></div>
<p><strong>If you change host IP, you need to correct your <code>config.json</code></strong> <br/>
In <code>config.json</code> correct the IPv4:</p>
<div class="highlight"><pre><span></span><code><span class="nt">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PUBLIC_IP_OF_SERVER_HOSTING_THIS_NODE"</span><span class="p">,</span><span class="w"></span>
</code></pre></div>
<p><strong>You must migrate certain files for your node to participate in voting on a new committee (Large Oracle)</strong> <br/>
From the root directory of your old node host you move the 3 files below to the root directory of the new server:</p>
<p><code>large-oracle-backup-database.db</code>, <code>large-oracle-database.db</code> and <code>peers.json</code></p>
</article>
</div>
</div>
</main>
<!--
  Copyright (c) 2016-2022 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->
<!-- Link to previous and/or next page -->
<nav aria-label="Footer" class="md-footer__inner md-grid-2 width-50 flex-column">
<div class="line1"></div>
<!-- Link to previous page -->
<div class="flex-row">
<a aria-label="Previous: Run a node 8 - Register your node in the MPC Explorer" class="md-footer__link md-footer__link--prev" href="operator-8-registration.html" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
<!-- Previous -->
</span>
          Run a node 8 - Register your node in the MPC Explorer
        </div>
</div>
</a>
<!-- Link to next page -->
<a aria-label="Next: Update your node's public information" class="md-footer__link md-footer__link--next" href="update-transaction.html" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<!-- <span class="md-footer__direction">
          Next
        </span> -->
          Update your node's public information
        </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"></path></svg>
</div>
</a>
<a class="md-top--footer md-icon" data-md-component="top" href="#">
<div class="to-upbtn">
<svg fill="none" height="10" viewbox="0 0 18 10" width="18" xmlns="http://www.w3.org/2000/svg">
<path clip-rule="evenodd" d="M8.29289 0.292893C8.68342 -0.0976311 9.31658 -0.0976311 9.70711 0.292893L17.7071 8.29289C18.0976 8.68342 18.0976 9.31658 17.7071 9.70711C17.3166 10.0976 16.6834 10.0976 16.2929 9.70711L9 2.41421L1.70711 9.70711C1.31658 10.0976 0.683417 10.0976 0.292893 9.70711C-0.0976311 9.31658 -0.0976311 8.68342 0.292893 8.29289L8.29289 0.292893Z" fill="url(#paint0_linear_416_1822)" fill-rule="evenodd"></path>
<defs>
<lineargradient gradientunits="userSpaceOnUse" id="paint0_linear_416_1822" x1="-0.0576922" x2="19.0904" y1="10" y2="6.7369">
<stop stop-color="#4DA68B"></stop>
<stop offset="1" stop-color="#4DDBA8"></stop>
</lineargradient>
</defs>
</svg>
</div>
</a>
</div>
</nav>
<!-- Footer -->
<footer class="md-footer">
<section class="footer-main-flex">
<section class="footer-flex-left">
<div class="footer-logo-flex">
<div class="footer-logo-img">
<a aria-label="Partisia Blockchain" data-md-component="logo" href="https://www.partisiablockchain.com/" title="Partisia Blockchain">
<img class="logo" src="assets/pbclogo.svg"/>
</a>
</div>
</div>
<div class="social-icon-logo">
<!-- Twitter -->
<a class="footer-social-link" href="https://twitter.com/partisiampc" target="_blank">
<svg fill="none" height="28" viewbox="0 0 28 28" width="28" xmlns="http://www.w3.org/2000/svg">
<rect fill="url(#paint0_linear_410_3156)" height="28" rx="4" width="28"></rect>
<path d="M11.6216 20C17.3784 20 20.4595 14.9869 20.4595 10.7386C20.4595 10.5686 20.4595 10.4837 20.4595 10.3137C21.1081 9.88889 21.5946 9.29412 22 8.61438C21.4324 8.86928 20.8649 9.03922 20.2162 9.12418C20.8649 8.69935 21.3514 8.10457 21.5946 7.33987C21.027 7.67974 20.2973 8.01961 19.6486 8.10458C19.0811 7.42484 18.2703 7 17.3784 7C15.6757 7 14.2973 8.44444 14.2973 10.2288C14.2973 10.4837 14.2973 10.7386 14.3784 10.9935C11.7838 10.8235 9.51351 9.54902 7.97297 7.59477C7.72973 8.10458 7.56757 8.61438 7.56757 9.20915C7.56757 10.3137 8.13513 11.3333 8.94595 11.9281C8.45946 11.9281 7.97297 11.7582 7.56757 11.5033C7.56757 13.1176 8.62162 14.3922 10.0811 14.732C9.83784 14.817 9.51351 14.817 9.27027 14.817C9.10811 14.817 8.86486 14.817 8.7027 14.732C9.10811 16.0065 10.2432 16.9412 11.6216 17.0261C10.5676 17.8758 9.18919 18.3856 7.72973 18.3856C7.48649 18.3856 7.24324 18.3856 7 18.3007C8.21622 19.4052 9.83784 20 11.6216 20Z" fill="#F3F6FB"></path>
<defs>
<lineargradient gradientunits="userSpaceOnUse" id="paint0_linear_410_3156" x1="-5.21539e-08" x2="28.6588" y1="28" y2="27.3086">
<stop stop-color="#0A0AF0"></stop>
<stop offset="1" stop-color="#2F2FF2"></stop>
</lineargradient>
</defs>
</svg>
</a>
<!-- Telegram -->
<a href="https://t.me/partisiampc" target="_blank">
<svg fill="none" height="28" viewbox="0 0 29 28" width="29" xmlns="http://www.w3.org/2000/svg">
<rect fill="url(#paint0_linear_410_3158)" height="28" rx="4" width="28" x="0.200012"></rect>
<path clip-rule="evenodd" d="M4.66612 15.1573L7.35284 15.9944C8.27929 16.2735 9.29839 16.1805 10.1322 15.6224L17.1732 10.9717C17.4512 10.7857 17.8218 11.1578 17.5438 11.4368L12.1704 16.5525C11.7072 16.9246 11.7998 17.6687 12.263 17.9477L17.9144 21.7613C18.7482 22.3193 19.9526 21.8543 20.1379 20.8311L22.1761 8.36736C22.3614 7.43723 21.4349 6.78614 20.6011 7.06518L4.57348 13.8551C4.0176 14.1342 4.11025 14.9713 4.66612 15.1573Z" fill="#F3F6FB" fill-rule="evenodd"></path>
<defs>
<lineargradient gradientunits="userSpaceOnUse" id="paint0_linear_410_3158" x1="0.200012" x2="28.8588" y1="28" y2="27.3086">
<stop stop-color="#0A0AF0"></stop>
<stop offset="1" stop-color="#2F2FF2"></stop>
</lineargradient>
</defs>
</svg>
</a>
<!-- Discord -->
<a href="https://discord.com/invite/5HX7j9xFS7" target="_blank">
<svg fill="none" height="28" viewbox="0 0 29 28" width="29" xmlns="http://www.w3.org/2000/svg">
<rect fill="url(#paint0_linear_410_3160)" height="28" rx="4" width="28" x="0.399994"></rect>
<path d="M20.6378 8.13731C19.4905 7.6109 18.2602 7.22306 16.9739 7.00093C16.9505 6.99664 16.9271 7.00736 16.915 7.02879C16.7568 7.3102 16.5815 7.67732 16.4588 7.96588C15.0753 7.75875 13.6989 7.75875 12.3437 7.96588C12.221 7.67091 12.0394 7.3102 11.8804 7.02879C11.8684 7.00807 11.845 6.99736 11.8215 7.00093C10.5359 7.22235 9.30566 7.61019 8.1577 8.13731C8.14776 8.14159 8.13924 8.14874 8.13359 8.15802C5.80004 11.6443 5.16078 15.0449 5.47438 18.4033C5.4758 18.4197 5.48502 18.4354 5.49779 18.4454C7.0374 19.5761 8.52877 20.2625 9.99245 20.7175C10.0159 20.7246 10.0407 20.716 10.0556 20.6967C10.4018 20.2239 10.7105 19.7254 10.9751 19.2011C10.9907 19.1704 10.9758 19.134 10.9439 19.1218C10.4543 18.9361 9.98819 18.7097 9.53979 18.4526C9.50432 18.4319 9.50148 18.3811 9.53411 18.3568C9.62847 18.2861 9.72286 18.2126 9.81296 18.1383C9.82926 18.1247 9.85198 18.1219 9.87114 18.1304C12.817 19.4754 16.0062 19.4754 18.9172 18.1304C18.9364 18.1211 18.9591 18.124 18.9761 18.1376C19.0662 18.2119 19.1606 18.2861 19.2557 18.3568C19.2883 18.3811 19.2862 18.4319 19.2507 18.4526C18.8023 18.7147 18.3361 18.9361 17.8459 19.1211C17.814 19.1333 17.7998 19.1704 17.8154 19.2011C18.0857 19.7246 18.3943 20.2232 18.7342 20.696C18.7484 20.716 18.7739 20.7246 18.7973 20.7175C20.2681 20.2625 21.7595 19.5761 23.2991 18.4454C23.3126 18.4354 23.3211 18.4204 23.3225 18.404C23.6978 14.5213 22.6939 11.1486 20.6612 8.15873C20.6562 8.14874 20.6477 8.14159 20.6378 8.13731ZM11.415 16.3584C10.5281 16.3584 9.79734 15.5441 9.79734 14.5442C9.79734 13.5442 10.5139 12.73 11.415 12.73C12.3231 12.73 13.0468 13.5514 13.0327 14.5442C13.0327 15.5441 12.3161 16.3584 11.415 16.3584ZM17.3961 16.3584C16.5092 16.3584 15.7784 15.5441 15.7784 14.5442C15.7784 13.5442 16.495 12.73 17.3961 12.73C18.3042 12.73 19.0279 13.5514 19.0137 14.5442C19.0137 15.5441 18.3042 16.3584 17.3961 16.3584Z" fill="#F3F6FB"></path>
<defs>
<lineargradient gradientunits="userSpaceOnUse" id="paint0_linear_410_3160" x1="0.399994" x2="29.0588" y1="28" y2="27.3086">
<stop stop-color="#0A0AF0"></stop>
<stop offset="1" stop-color="#2F2FF2"></stop>
</lineargradient>
</defs>
</svg>
</a>
<!-- Medium -->
<a href="https://medium.com/partisia-blockchain" target="_blank">
<svg fill="none" height="28" viewbox="0 0 29 28" width="29" xmlns="http://www.w3.org/2000/svg">
<rect fill="url(#paint0_linear_410_3164)" height="28" rx="4" width="28" x="0.599976"></rect>
<path d="M10.2073 19.2147C13.3042 19.2147 15.8147 16.7042 15.8147 13.6074C15.8147 10.5105 13.3042 8 10.2073 8C7.11048 8 4.59998 10.5105 4.59998 13.6074C4.59998 16.7042 7.11048 19.2147 10.2073 19.2147Z" fill="#F3F6FB"></path>
<path d="M19.2718 18.9314C20.8203 18.9314 22.0755 16.5464 22.0755 13.6044C22.0755 10.6623 20.8203 8.27734 19.2718 8.27734C17.7234 8.27734 16.4681 10.6623 16.4681 13.6044C16.4681 16.5464 17.7234 18.9314 19.2718 18.9314Z" fill="#F3F6FB"></path>
<path d="M24.6 13.6061C24.6 16.2385 24.1815 18.3724 23.6654 18.3724C23.1493 18.3724 22.7308 16.2385 22.7308 13.6061C22.7308 10.9738 23.1493 8.83984 23.6654 8.83984C24.1815 8.83984 24.6 10.9738 24.6 13.6061Z" fill="#F3F6FB"></path>
<defs>
<lineargradient gradientunits="userSpaceOnUse" id="paint0_linear_410_3164" x1="0.599976" x2="29.2588" y1="28" y2="27.3086">
<stop stop-color="#0A0AF0"></stop>
<stop offset="1" stop-color="#2F2FF2"></stop>
</lineargradient>
</defs>
</svg>
</a>
<!-- Youtube -->
<a href="https://youtube.com/c/PARTISIABLOCKCHAINFOUNDATION" target="_blank">
<svg fill="none" height="28" viewbox="0 0 29 28" width="29" xmlns="http://www.w3.org/2000/svg">
<rect fill="url(#paint0_linear_410_3166)" height="28" rx="4" width="28" x="0.799988"></rect>
<path d="M22.4704 9.72118C22.2859 9.04824 21.7456 8.51765 21.0602 8.33647C19.8082 8 14.8 8 14.8 8C14.8 8 9.79174 8 8.53968 8.32353C7.86753 8.50471 7.31399 9.04824 7.12948 9.72118C6.79999 10.9506 6.79999 13.5 6.79999 13.5C6.79999 13.5 6.79999 16.0624 7.12948 17.2788C7.31399 17.9518 7.85435 18.4824 8.53968 18.6635C9.80492 19 14.8 19 14.8 19C14.8 19 19.8082 19 21.0602 18.6765C21.7456 18.4953 22.2859 17.9647 22.4704 17.2918C22.7999 16.0624 22.7999 13.5129 22.7999 13.5129C22.7999 13.5129 22.8131 10.9506 22.4704 9.72118ZM13.2052 15.8553V11.1447L17.37 13.5L13.2052 15.8553Z" fill="#F3F6FB"></path>
<defs>
<lineargradient gradientunits="userSpaceOnUse" id="paint0_linear_410_3166" x1="0.799988" x2="29.4588" y1="28" y2="27.3086">
<stop stop-color="#0A0AF0"></stop>
<stop offset="1" stop-color="#2F2FF2"></stop>
</lineargradient>
</defs>
</svg>
</a>
<!-- Linkedin -->
<a href="https://www.linkedin.com/company/privacy-blockchain/?viewAsMember=true" target="_blank">
<svg fill="none" height="28" viewbox="0 0 28 28" width="28" xmlns="http://www.w3.org/2000/svg">
<rect fill="url(#paint0_linear_410_3168)" height="28" rx="4" width="28"></rect>
<path d="M8.65677 9.31352C9.57177 9.31352 10.3135 8.57176 10.3135 7.65676C10.3135 6.74176 9.57177 6 8.65677 6C7.74176 6 7 6.74176 7 7.65676C7 8.57176 7.74176 9.31352 8.65677 9.31352Z" fill="#F3F6FB"></path>
<path d="M10.1485 10.6402H7.24918V20.0009H10.1485V10.6402Z" fill="#F3F6FB"></path>
<path d="M14.7873 10.6412V11.801C16.1955 9.56433 21.0001 9.64717 21.0001 14.1204V20.0848H18.1008V14.9488C18.1008 12.5465 14.7873 12.298 14.7873 15.0316V20.0019H11.8879V10.6412H14.7873Z" fill="#F3F6FB"></path>
<defs>
<lineargradient gradientunits="userSpaceOnUse" id="paint0_linear_410_3168" x1="-5.21539e-08" x2="28.6588" y1="28" y2="27.3086">
<stop stop-color="#0A0AF0"></stop>
<stop offset="1" stop-color="#2F2FF2"></stop>
</lineargradient>
</defs>
</svg>
</a>
</div>
<p>
        Partisia Blockchain All Rights Reserved © 2022
      </p>
</section>
<section class="footer-menu-flex">
<div>
<p class="footer-menu-header"><a href="/index.html">General concepts</a></p>
<!-- <ul>
          <li><a href="/operator-0-introduction.html">Run a node - Introduction and index</a></li>
          <li><a href="/operator-1-specs.html">Run a node 1 - Specs</a></li>
          <li><a href="/operator-2-reader.html">Run a node 2 - Local reader</a></li>
          <li><a href="/operator-3-vps.html">Run a node 3 - VPS</a></li>
          <li><a href="/operator-4-security.html">Run a node 4 - VPS security</a></li>
          <li><a href="/operator-5-reader-vps.html">Run a node 5 - Reader node on VPS</a></li>
          <li><a href="/operator-6-keys.html">Run a node 6 - Keys for BP config and registration</a></li>
          <li><a href="/operator-7-bp.html">Run a node 7 - Change node config from reader to block producer</a></li>
          <li><a href="/operator-8-registration.html">Run a node 8 - Register your node in the MPC Explorer</a></li>
          <li><a href="/update-transaction.html">Update your node's public information</a></li>
          <li><a href="https://partisiablockchain.gitlab.io/documentation/rest">REST API documentation</a></li>

        </ul> -->
</div>
<div>
<p class="footer-menu-header"><a href="/whatisano.html">Run a node</a></p>
<!-- <ul>
          <li><a href="/token-contract.html">Develop your first contract - token contract example</a></li>
          <li><a href="/programmers_guide.html">Programmer's Guide to PBC SDK</a></li>
          <li><a href="/abiv_latest.html">ABI 4.0 specification</a></li>
          <li><a href="/abiv3_1.html">ABI 3.1 specification</a></li>
          <li><a href="/voting-contract.html">Create a smart contract for a specific scenario</a></li>
          <li><a href="/vickrey.html">Zero Knowledge Contracts</a></li>

        </ul> -->
</div>
<div>
<p class="footer-menu-header"><a href="/contract-development.html">Developer guide</a></p>
<!-- <ul>
          <li><a href="/byoc.html">BYOC and gas</a></li>
          <li><a href="/mpc-tokens.html">MPC tokens</a></li>
          <li><a href="/transactions.html">Transactions</a></li>
          <li><a href="/block.html">Blocks</a></li>
          <li><a href="/consensus.html">Consensus Model</a></li>
          <li><a href="/shards.html">Shards</a></li>
          <li><a href="/keys.html">Public key cryptography</a></li>
        </ul> -->
</div>
</section>
</section>
<div class="footer-highlight-outer">
<div class="footer-highlight md-grid">
<h3 style="font-size: 15px;">Partisia Blockchain All Rights Reserved © 2022</h3>
<div class="footer-highlight-inner">
<p>
<a href="#">About</a>
</p>
<p>
<a href="#">Terms of Use</a>
</p>
<p>
<a href="#">Privacy Policy</a>
</p>
</div>
</div>
</div></footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": ".", "features": ["navigation.indexes"], "search": "assets/javascripts/workers/search.b97dbffb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
<script src="assets/javascripts/bundle.6c7ad80a.min.js"></script>
<script src="js/mermaid.min.js"></script>
<script src="js/polyfill.min.js"></script>
<script src="js/extra.js"></script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</body>
</html>