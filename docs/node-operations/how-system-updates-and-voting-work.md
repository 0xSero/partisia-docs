# How system updates and voting work

This article explains how updates are implemented on PBC via node operator voting.

## On-chain and off-chain updates

There are two types of updates on PBC, on-chain and off-chain updates. Off-chain updates are changes to the software running locally on a node. On-chain updates affect system contracts and or plug-ins.
Node operators can directly control and modify which software runs locally on their server. Any on-chain updates is subject to a vote.

## Voting rules

Votes are decided by a two-thirds-plus-one majority, e.g. for a baker node committee of 100, a majority of 67 is necessary to carry a vote.

## How the default yes-vote works

Nodes vote yes to on-chain updates by default. This is expedient in case of bugs. Votes on controversial changes can be proposed as manual votes. 

## How to change the config.json in order to cast a no-vote

This how the `config.json` looks like by default when generated by the `node-register.sh`:

```JSON
    {
        "restPort": 8080,
        "floodingPort": 9888,
        "knownPeers": [
            // your known peers
        ],
        "networkKey": "YOUR NETWORK KEY",
        "producerConfig": {
            "accountKey": "YOUR ACCOUNT KEY",
            "finalizationKey": "YOUR FINALIZATION KEY",
            "ethereumUrl": "https://example.com",
            "polygonUrl": "https://example.com",
            "bnbSmartChainUrl": "https://example.com",
            "host": "YOUR IP"
        }
    }
```
Standard directory is `/opt/pbc-mainnet/conf/config.json`


You need to add a override map field to the `config.json`. You put `systemupdate.vote.ID` in the map and point it to "false".

Example:




## Updates with manual voting
 

Cast a manual vote:

1. Go to the [System Update contract](https://browser.partisiablockchain.com/contracts/04c5f00d7c6d70c3d0919fd7f81c7b9bfe16063620/vote) in the Partisia Blockchain Browser and sign in   
2. Enter Poll id (you can find it in the state of the [System Update contract](https://browser.partisiablockchain.com/contracts/04c5f00d7c6d70c3d0919fd7f81c7b9bfe16063620?tab=state) in the field named `key:`   
3. Choose _True_ or _False_   
4. Click _Vote_   
