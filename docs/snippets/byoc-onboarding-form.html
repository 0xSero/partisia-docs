<form id="byoc-onboarding-form" class="generator-form md-typeset" action="javascript:"
      onchange="updateFields()"
      onsubmit="generateConfigs()">
  <p>
    <label>
      <span>(1) Token type</span>
      <select id="byoc-onboarding-token-type">
        <option value="erc20">ERC20</option>
        <option value="native">Native token</option>
      </select>
    </label>
  </p>
  <p>
    <label>
      <span>(2) Integrated chain</span>
      <select id="byoc-onboarding-chain">
        <option value="Ethereum">Ethereum</option>
        <option value="Polygon">Polygon</option>
        <option value="BnbSmartChain">BNB Smart Chain</option>
      </select>
    </label>
  </p>

  <p>
    <label for="byoc-onboarding-implementation-payload">
      <span>(3) Payload for deploying implementation contract:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-implementation-payload" readonly>
  </p>
  <div class="button-container">
    <button type="button" class="md-button" onclick="deployImplementation()">Deploy with Metamask
    </button>
  </div>
  <p>
    <label for="byoc-onboarding-implementation-address">
      <span>(4) Deployed implementation contract address:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-implementation-address">
  </p>

  <p>
    <label for="byoc-onboarding-price">
      <span>(4) Current price:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-price">
  </p>
  <p class="erc20">
    <label for="byoc-onboarding-erc20">
      <span>(4) ERC20 contract:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-erc20">
  </p>
  <p class="erc20">
    <label for="byoc-onboarding-erc20-decimals">
      <span>(4) ERC20 decimals:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-erc20-decimals">
  </p>

  <p>
    <label for="byoc-onboarding-proxy-payload">
      <span>(5) Payload for deploying proxy contract:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-proxy-payload" readonly>
  </p>
  <div class="button-container">
    <button type="button" class="md-button" onclick="deployProxy()">Deploy with Metamask</button>
  </div>

  <p>
    <label for="byoc-onboarding-proxy-address">
      <span>(6) Deployed proxy contract address:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-proxy-address">
  </p>


  <p>
    <label for="byoc-onboarding-token-name">
      <span>(6) Name of bridged token:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-token-name">
  </p>
  <p>
    <label>
      <span>(6) Is stable coin?</span>
      <select onchange="changeStableCoin()" id="byoc-onboarding-is-stable-coin">
        <option value="no">No</option>
        <option value="yes">Yes</option>
      </select>
    </label>
  </p>
  <p class="price-oracle-info">
    <label for="byoc-onboarding-reference-contract">
      <span>(6) Chain link reference contract:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-reference-contract">
  </p>
  <p class="price-oracle-info">
    <label for="byoc-onboarding-reference-decimals">
      <span>(6) Chain link contract decimals:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-reference-decimals">
  </p>

  <div>
    <p>
      <label for="byoc-onboarding-vote-payload">
        <span>(7) Update RPC for vote on Partisia Blockchain:</span>
      </label>
      <input class="md-input md-input--stretch" id="byoc-onboarding-vote-payload" readonly>
    </p>
  </div>

</form>

<script>

  function isNativeToken() {
    return document.getElementById("byoc-onboarding-token-type").value === "native";
  }

  function changeTokenType() {
    const form = document.getElementById("byoc-onboarding-form");
    form.classList.toggle("native-token", isNativeToken());
  }

  function isStableCoin() {
    return document.getElementById("byoc-onboarding-is-stable-coin").value === "yes";
  }

  function changeStableCoin() {
    const form = document.getElementById("byoc-onboarding-form");
    form.classList.toggle("stable-coin", isStableCoin());
  }

  function updateFields() {
    changeTokenType();
    changeStableCoin();

    generateConfigs();
  }

  function deployImplementation() {
    deployThroughMetamask("byoc-onboarding-implementation-payload");
  }

  function deployProxy() {
    deployThroughMetamask("byoc-onboarding-proxy-payload");
  }

  function readIntegratedChain() {
    return document.getElementById("byoc-onboarding-chain").value;
  }

  function deployThroughMetamask(inputId) {
    const chainIds = {
      "Ethereum": "0x1",
      "BnbSmartChain": "0x38",
      "Polygon": "0x89",
    };
    const chainId = chainIds[readIntegratedChain()];
    const bytecode = document.getElementById(inputId).value;
    if (bytecode.length === 0) {
      window.alert("Payload has not been generated yet.");
      return;
    }
    window.ethereum.request({
      "method": "wallet_switchEthereumChain",
      "params": [
        {
          "chainId": chainId,
        },
      ],
    })
    .then(() => window.ethereum.request({method: "eth_requestAccounts"}))
    .then(a => {
      let account = a[0];
      return window.ethereum.request({
        method: "eth_sendTransaction",
        params: [
          {
            from: account,
            data: bytecode,
          },
        ],
      })
      .then(() => window.alert(
          "Deployment sent - follow transaction through metamask to determine contract address"))
      .catch((error) => window.alert("An error occurred: " + error.message));
    });
  }

  function isAddress(value) {
    return /^(0x)?[a-fA-F0-9]{40}$/.test(value);
  }

  function isInteger(value) {
    return /^[0-9]+$/.test(value);
  }

  function isPrice(value) {
    return /^[0-9]+(\.[0-9]+)?$/.test(value);
  }

  function generateConfigs() {
    const erc20ImplementationCode = "0x60a06040523073ffffffffffffffffffffffffffffffffffffffff1660809073ffffffffffffffffffffffffffffffffffffffff1660601b8152503480156200004757600080fd5b50620000586200005e60201b60201c565b62000245565b6200007060ff6200007360201b60201c565b50565b60008060019054906101000a900460ff1615620000fd5760018260ff16148015620000b15750620000af306200017960201b620014c91760201c565b155b620000f3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620000ea90620001c3565b60405180910390fd5b6000905062000174565b8160ff1660008054906101000a900460ff1660ff161062000155576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016200014c90620001c3565b60405180910390fd5b816000806101000a81548160ff021916908360ff160217905550600190505b919050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000620001ab602e83620001e5565b9150620001b882620001f6565b604082019050919050565b60006020820190508181036000830152620001de816200019c565b9050919050565b600082825260208201905092915050565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160008201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b60805160601c6145a26200027260003960008181610d5b0152818161114c01526111db01526145a26000f3fe608060405234801561001057600080fd5b506004361061012c5760003560e01c8063907cc7b1116100ad578063de35f5cb11610071578063de35f5cb1461031d578063dfbc62691461033b578063e0acac7f14610359578063ed72eb2414610377578063fc0c546a146103955761012c565b8063907cc7b114610279578063b2b22a8514610295578063b81f853c146102b3578063c7a983b5146102cf578063dde4d950146102ed5761012c565b806352d1902d116100f457806352d1902d146101d3578063593777b5146101f15780635b69a7d81461020f578063612411101461023f578063744d49cc1461025b5761012c565b8063183bdeaa146101315780631900a9a01461014f5780632333ad8b1461016b578063465c4d15146101875780634bd2d7f9146101a3575b600080fd5b6101396103b3565b60405161014691906137ee565b60405180910390f35b610169600480360381019061016491906128b0565b6103cd565b005b61018560048036038101906101809190612bb1565b61042a565b005b6101a1600480360381019061019c9190612a80565b61089c565b005b6101bd60048036038101906101b89190612a53565b610d3f565b6040516101ca9190613385565b60405180910390f35b6101db610d57565b6040516101e89190613385565b60405180910390f35b6101f9610e10565b60405161020691906137d3565b60405180910390f35b61022960048036038101906102249190612a26565b610e16565b604051610236919061330a565b60405180910390f35b61025960048036038101906102549190612b1a565b610e55565b005b61026361105e565b60405161027091906137d3565b60405180910390f35b610293600480360381019061028e919061297d565b611064565b005b61029d611144565b6040516102aa91906137d3565b60405180910390f35b6102cd60048036038101906102c8919061291d565b61114a565b005b6102d761141e565b6040516102e4919061345b565b60405180910390f35b61030760048036038101906103029190612a26565b611444565b6040516103149190613385565b60405180910390f35b61032561145c565b60405161033291906137ee565b60405180910390f35b610343611476565b60405161035091906137ee565b60405180910390f35b610361611490565b60405161036e91906137d3565b60405180910390f35b61037f611496565b60405161038c91906137d3565b60405180910390f35b61039d6114a3565b6040516103aa9190613440565b60405180910390f35b600760009054906101000a900467ffffffffffffffff1681565b61041c333083600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff166114ec909392919063ffffffff16565b6104268282611575565b5050565b600660149054906101000a900467ffffffffffffffff1667ffffffffffffffff168667ffffffffffffffff161015610497576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161048e906136d3565b60405180910390fd5b600060409050600081878790506104ae9190613ab5565b9050600081116104f3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104ea90613793565b60405180910390fd5b6000600230600760009054906101000a900467ffffffffffffffff16888b8b6040516020016105269594939291906131bd565b6040516020818303038152906040526040516105429190613268565b602060405180830381855afa15801561055f573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061058291906128f0565b9050600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631d574bc68a8388886040518563ffffffff1660e01b81526004016105e594939291906138e6565b60206040518083038186803b1580156105fd57600080fd5b505afa158015610611573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106359190612883565b610674576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161066b90613613565b60405180910390fd5b8560086000600760009054906101000a900467ffffffffffffffff1667ffffffffffffffff1667ffffffffffffffff1681526020019081526020016000208190555060008267ffffffffffffffff8111156106d2576106d1613ea2565b5b6040519080825280602002602001820160405280156107005781602001602082028036833780820191505090505b50905060005b838110156107fb5760008a8a878461071e9190613ae6565b908860018661072d9190613a21565b6107379190613ae6565b92610744939291906139e6565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505090506000818051906020012060001c9050808484815181106107ac576107ab613e73565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050505080806107f390613d26565b915050610706565b508060059080519060200190610812929190612578565b506001600760008282829054906101000a900467ffffffffffffffff166108399190613a77565b92506101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555089600660146101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550600060038190555050505050505050505050565b600454846003546108ad9190613a21565b11156108ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108e590613573565b60405180910390fd5b6000604190506000600230600760009054906101000a900467ffffffffffffffff168a8a8a604051602001610927959493929190613209565b6040516020818303038152906040526040516109439190613268565b602060405180830381855afa158015610960573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061098391906128f0565b9050600080600084905060005b878790508211610b62576000888888856109aa9190613b40565b9085926109b9939291906139e6565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505090505b6005805490508463ffffffff16108015610a315750600060018563ffffffff168c63ffffffff16901c1663ffffffff16145b15610a49578380610a4190613d6f565b9450506109ff565b6005805490508463ffffffff161415610a625750610b62565b610a6c86826116ed565b73ffffffffffffffffffffffffffffffffffffffff1660058563ffffffff1681548110610a9c57610a9b613e73565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610b1d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b1490613613565b60405180910390fd5b8363ffffffff16600163ffffffff16901b821791508380610b3d90613d6f565b9450508480610b4b90613d26565b9550508683610b5a9190613a21565b925050610990565b60016002600580549050610b769190613ab5565b610b809190613a21565b841015610bc2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bb990613513565b60405180910390fd5b8960036000828254610bd49190613a21565b9250508190555060008c67ffffffffffffffff166040600760009054906101000a900467ffffffffffffffff1667ffffffffffffffff16901b610c179190613a21565b90506000801b600960008381526020019081526020016000205414610c71576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c68906135b3565b60405180910390fd5b6000600760009054906101000a900467ffffffffffffffff168e8e8e604051602001610ca094939291906132bc565b6040516020818303038152906040528051906020012090508060096000848152602001908152602001600020819055507f028315f59a3b3e104b3beec5aca23db0d4409cd0d1d749204d785cfd39a4009a8e8e8e600760009054906101000a900467ffffffffffffffff1687604051610d1d95949392919061385c565b60405180910390a1610d2f8d8d611714565b5050505050505050505050505050565b60086020528060005260406000206000915090505481565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1614610de7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dde90613773565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b905090565b60025481565b60058181548110610e2657600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600860008467ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002054905060006002878787604051602001610e9a9392919061327f565b604051602081830303815290604052604051610eb69190613268565b602060405180830381855afa158015610ed3573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190610ef691906128f0565b9050610f03838383611765565b610f42576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f3990613533565b60405180910390fd5b60008767ffffffffffffffff166040610f5b9190613a21565b8567ffffffffffffffff16901b9050600085898989604051602001610f8394939291906132bc565b6040516020818303038152906040528051906020012090508060096000848152602001908152602001600020541415610ff1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fe8906135b3565b60405180910390fd5b8060096000848152602001908152602001600020819055507f028315f59a3b3e104b3beec5aca23db0d4409cd0d1d749204d785cfd39a4009a898989896000604051611041959493929190613809565b60405180910390a16110538888611714565b505050505050505050565b60015481565b600061107060016118ab565b90508015611094576001600060016101000a81548160ff0219169083151502179055505b86600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506110e2868686868661199b565b801561113b5760008060016101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860016040516111329190613476565b60405180910390a15b50505050505050565b60045481565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1614156111d9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111d090613713565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16611218611a94565b73ffffffffffffffffffffffffffffffffffffffff161461126e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611265906134d3565b60405180910390fd5b600060023061127b611a94565b8460405160200161128e93929190613180565b6040516020818303038152906040526040516112aa9190613268565b602060405180830381855afa1580156112c7573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906112ea91906128f0565b90506112f4611aeb565b73ffffffffffffffffffffffffffffffffffffffff1663a7c5b1118286866040518463ffffffff1660e01b8152600401611330939291906133c9565b60206040518083038186803b15801561134857600080fd5b505afa15801561135c573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113809190612883565b6113bf576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113b690613593565b60405180910390fd5b61141882600067ffffffffffffffff8111156113de576113dd613ea2565b5b6040519080825280601f01601f1916602001820160405280156114105781602001600182028036833780820191505090505b506000611b15565b50505050565b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60096020528060005260406000206000915090505481565b600060029054906101000a900467ffffffffffffffff1681565b600660149054906101000a900467ffffffffffffffff1681565b60035481565b6000600580549050905090565b600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b61156f846323b872dd60e01b85858560405160240161150d93929190613325565b604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050611c92565b50505050565b806001541115801561158957506002548111155b6115c8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115bf906136b3565b60405180910390fd5b600060f81b826000601581106115e1576115e0613e73565b5b1a60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614611647576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161163e90613553565b60405180910390fd5b60008060029054906101000a900467ffffffffffffffff1690506001600060028282829054906101000a900467ffffffffffffffff166116879190613a77565b92506101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055507f01bc4bb7c8ad3891d2159f29189c74d9528104fb81b05893732d1f06621e2c4f8184846040516116e0939291906138af565b60405180910390a1505050565b60008060006116fc8585611d59565b9150915061170981611ddc565b819250505092915050565b6117618282600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16611fb19092919063ffffffff16565b5050565b60008082905060005b855181101561189d57600086828151811061178c5761178b613e73565b5b6020026020010151905080831161181557600283826040516020016117b29291906133a0565b6040516020818303038152906040526040516117ce9190613268565b602060405180830381855afa1580156117eb573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061180e91906128f0565b9250611889565b6002818460405160200161182a9291906133a0565b6040516020818303038152906040526040516118469190613268565b602060405180830381855afa158015611863573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061188691906128f0565b92505b50808061189590613d26565b91505061176e565b508381149150509392505050565b60008060019054906101000a900460ff16156119225760018260ff161480156118da57506118d8306114c9565b155b611919576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161191090613653565b60405180910390fd5b60009050611996565b8160ff1660008054906101000a900460ff1660ff1610611977576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161196e90613653565b60405180910390fd5b816000806101000a81548160ff021916908360ff160217905550600190505b919050565b60008060026101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550846001819055508360028190555082600481905550600060038190555081600590805190602001906119f7929190612578565b5080600660006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600660146101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055506000600760006101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055505050505050565b6000611ac27f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b612037565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b611b417f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd914360001b612041565b60000160009054906101000a900460ff1615611b6557611b608361204b565b611c8d565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b815260040160206040518083038186803b158015611bab57600080fd5b505afa925050508015611bdc57506040513d601f19601f82011682018060405250810190611bd991906128f0565b60015b611c1b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c1290613693565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b8114611c80576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c7790613633565b60405180910390fd5b50611c8c838383612104565b5b505050565b6000611cf4826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c65648152508573ffffffffffffffffffffffffffffffffffffffff166121309092919063ffffffff16565b9050600081511115611d545780806020019051810190611d149190612883565b611d53576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d4a906137b3565b60405180910390fd5b5b505050565b600080604183511415611d9b5760008060006020860151925060408601519150606086015160001a9050611d8f87828585612148565b94509450505050611dd5565b604083511415611dcc576000806020850151915060408501519050611dc1868383612255565b935093505050611dd5565b60006002915091505b9250929050565b60006004811115611df057611def613e44565b5b816004811115611e0357611e02613e44565b5b1415611e0e57611fae565b60016004811115611e2257611e21613e44565b5b816004811115611e3557611e34613e44565b5b1415611e76576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e6d906134b3565b60405180910390fd5b60026004811115611e8a57611e89613e44565b5b816004811115611e9d57611e9c613e44565b5b1415611ede576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ed5906134f3565b60405180910390fd5b60036004811115611ef257611ef1613e44565b5b816004811115611f0557611f04613e44565b5b1415611f46576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f3d906135d3565b60405180910390fd5b600480811115611f5957611f58613e44565b5b816004811115611f6c57611f6b613e44565b5b1415611fad576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611fa490613673565b60405180910390fd5b5b50565b6120328363a9059cbb60e01b8484604051602401611fd092919061335c565b604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050611c92565b505050565b6000819050919050565b6000819050919050565b612054816114c9565b612093576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161208a906136f3565b60405180910390fd5b806120c07f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b612037565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b61210d836122b4565b60008251118061211a5750805b1561212b576121298383612303565b505b505050565b606061213f8484600085612330565b90509392505050565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08360001c111561218357600060039150915061224c565b601b8560ff161415801561219b5750601c8560ff1614155b156121ad57600060049150915061224c565b6000600187878787604051600081526020016040526040516121d294939291906133fb565b6020604051602081039080840390855afa1580156121f4573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156122435760006001925092505061224c565b80600092509250505b94509492505050565b60008060007f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60001b841690506000601b60ff8660001c901c6122989190613a21565b90506122a687828885612148565b935093505050935093915050565b6122bd8161204b565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b6060612328838360405180606001604052806027815260200161454660279139612444565b905092915050565b606082471015612375576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161236c906135f3565b60405180910390fd5b61237e856114c9565b6123bd576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016123b490613753565b60405180910390fd5b6000808673ffffffffffffffffffffffffffffffffffffffff1685876040516123e69190613268565b60006040518083038185875af1925050503d8060008114612423576040519150601f19603f3d011682016040523d82523d6000602084013e612428565b606091505b5091509150612438828286612511565b92505050949350505050565b606061244f846114c9565b61248e576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161248590613733565b60405180910390fd5b6000808573ffffffffffffffffffffffffffffffffffffffff16856040516124b69190613268565b600060405180830381855af49150503d80600081146124f1576040519150601f19603f3d011682016040523d82523d6000602084013e6124f6565b606091505b5091509150612506828286612511565b925050509392505050565b6060831561252157829050612571565b6000835111156125345782518084602001fd5b816040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016125689190613491565b60405180910390fd5b9392505050565b8280548282559060005260206000209081019282156125f1579160200282015b828111156125f05782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190612598565b5b5090506125fe9190612602565b5090565b5b8082111561261b576000816000905550600101612603565b5090565b600061263261262d8461394b565b613926565b9050808382526020820190508285602086028201111561265557612654613ee5565b5b60005b85811015612685578161266b88826126ff565b845260208401935060208301925050600181019050612658565b5050509392505050565b60006126a261269d84613977565b613926565b905080838252602082019050828560208602820111156126c5576126c4613ee5565b5b60005b858110156126f557816126db888261279a565b8452602084019350602083019250506001810190506126c8565b5050509392505050565b60008135905061270e81614476565b92915050565b600082601f83011261272957612728613ed6565b5b813561273984826020860161261f565b91505092915050565b600082601f83011261275757612756613ed6565b5b813561276784826020860161268f565b91505092915050565b60008151905061277f8161448d565b92915050565b600081359050612794816144a4565b92915050565b6000813590506127a9816144bb565b92915050565b6000815190506127be816144bb565b92915050565b60008083601f8401126127da576127d9613ed6565b5b8235905067ffffffffffffffff8111156127f7576127f6613ed1565b5b60208301915083600182028301111561281357612812613ee5565b5b9250929050565b600081359050612829816144d2565b92915050565b60008135905061283e816144e9565b92915050565b60008135905061285381614500565b92915050565b60008135905061286881614517565b92915050565b60008135905061287d8161452e565b92915050565b60006020828403121561289957612898613eef565b5b60006128a784828501612770565b91505092915050565b600080604083850312156128c7576128c6613eef565b5b60006128d585828601612785565b92505060206128e685828601612844565b9150509250929050565b60006020828403121561290657612905613eef565b5b6000612914848285016127af565b91505092915050565b60008060006040848603121561293657612935613eef565b5b600084013567ffffffffffffffff81111561295457612953613eea565b5b612960868287016127c4565b93509350506020612973868287016126ff565b9150509250925092565b60008060008060008060c0878903121561299a57612999613eef565b5b60006129a889828a0161281a565b96505060206129b989828a01612844565b95505060406129ca89828a01612844565b94505060606129db89828a01612844565b935050608087013567ffffffffffffffff8111156129fc576129fb613eea565b5b612a0889828a01612714565b92505060a0612a1989828a0161282f565b9150509295509295509295565b600060208284031215612a3c57612a3b613eef565b5b6000612a4a84828501612844565b91505092915050565b600060208284031215612a6957612a68613eef565b5b6000612a778482850161286e565b91505092915050565b60008060008060008060a08789031215612a9d57612a9c613eef565b5b6000612aab89828a0161286e565b9650506020612abc89828a016126ff565b9550506040612acd89828a01612844565b9450506060612ade89828a01612859565b935050608087013567ffffffffffffffff811115612aff57612afe613eea565b5b612b0b89828a016127c4565b92509250509295509295509295565b600080600080600060a08688031215612b3657612b35613eef565b5b6000612b448882890161286e565b9550506020612b55888289016126ff565b9450506040612b6688828901612844565b9350506060612b778882890161286e565b925050608086013567ffffffffffffffff811115612b9857612b97613eea565b5b612ba488828901612742565b9150509295509295909350565b60008060008060008060808789031215612bce57612bcd613eef565b5b6000612bdc89828a0161286e565b965050602087013567ffffffffffffffff811115612bfd57612bfc613eea565b5b612c0989828a016127c4565b95509550506040612c1c89828a0161279a565b935050606087013567ffffffffffffffff811115612c3d57612c3c613eea565b5b612c4989828a016127c4565b92509250509295509295509295565b612c6181613b74565b82525050565b612c78612c7382613b74565b613d9c565b82525050565b612c8781613b92565b82525050565b612c9681613bbe565b82525050565b612cad612ca882613bbe565b613dae565b82525050565b6000612cbf83856139b9565b9350612ccc838584613cb3565b612cd583613ef4565b840190509392505050565b6000612cec83856139ca565b9350612cf9838584613cb3565b82840190509392505050565b6000612d10826139a3565b612d1a81856139ca565b9350612d2a818560208601613cc2565b80840191505092915050565b612d3f81613c47565b82525050565b612d4e81613c6b565b82525050565b612d5d81613c8f565b82525050565b612d6c81613ca1565b82525050565b6000612d7d826139ae565b612d8781856139d5565b9350612d97818560208601613cc2565b612da081613ef4565b840191505092915050565b6000612db86018836139d5565b9150612dc382613f1f565b602082019050919050565b6000612ddb601c836139d5565b9150612de682613f48565b602082019050919050565b6000612dfe601f836139d5565b9150612e0982613f71565b602082019050919050565b6000612e216015836139d5565b9150612e2c82613f9a565b602082019050919050565b6000612e446016836139d5565b9150612e4f82613fc3565b602082019050919050565b6000612e676013836139d5565b9150612e7282613fec565b602082019050919050565b6000612e8a6019836139d5565b9150612e9582614015565b602082019050919050565b6000612ead6011836139d5565b9150612eb88261403e565b602082019050919050565b6000612ed0601c836139d5565b9150612edb82614067565b602082019050919050565b6000612ef36022836139d5565b9150612efe82614090565b604082019050919050565b6000612f166026836139d5565b9150612f21826140df565b604082019050919050565b6000612f39601a836139d5565b9150612f448261412e565b602082019050919050565b6000612f5c6029836139d5565b9150612f6782614157565b604082019050919050565b6000612f7f602e836139d5565b9150612f8a826141a6565b604082019050919050565b6000612fa26022836139d5565b9150612fad826141f5565b604082019050919050565b6000612fc5602e836139d5565b9150612fd082614244565b604082019050919050565b6000612fe86016836139d5565b9150612ff382614293565b602082019050919050565b600061300b601f836139d5565b9150613016826142bc565b602082019050919050565b600061302e602d836139d5565b9150613039826142e5565b604082019050919050565b6000613051601c836139d5565b915061305c82614334565b602082019050919050565b60006130746026836139d5565b915061307f8261435d565b604082019050919050565b6000613097601d836139d5565b91506130a2826143ac565b602082019050919050565b60006130ba6020836139d5565b91506130c5826143d5565b602082019050919050565b60006130dd600a836139d5565b91506130e8826143fe565b602082019050919050565b6000613100602a836139d5565b915061310b82614427565b604082019050919050565b61311f81613c0c565b82525050565b61313661313182613c0c565b613dca565b82525050565b61314581613c16565b82525050565b61315481613c26565b82525050565b61316b61316682613c26565b613dd4565b82525050565b61317a81613c3a565b82525050565b600061318c8286612c67565b60148201915061319c8285612c67565b6014820191506131ac8284612c67565b601482019150819050949350505050565b60006131c98288612c67565b6014820191506131d9828761315a565b6008820191506131e98286612c9c565b6020820191506131fa828486612ce0565b91508190509695505050505050565b60006132158288612c67565b601482019150613225828761315a565b600882019150613235828661315a565b6008820191506132458285612c67565b6014820191506132558284613125565b6020820191508190509695505050505050565b60006132748284612d05565b915081905092915050565b600061328b828661315a565b60088201915061329b8285612c67565b6014820191506132ab8284613125565b602082019150819050949350505050565b60006132c8828761315a565b6008820191506132d8828661315a565b6008820191506132e88285612c67565b6014820191506132f88284613125565b60208201915081905095945050505050565b600060208201905061331f6000830184612c58565b92915050565b600060608201905061333a6000830186612c58565b6133476020830185612c58565b6133546040830184613116565b949350505050565b60006040820190506133716000830185612c58565b61337e6020830184613116565b9392505050565b600060208201905061339a6000830184612c8d565b92915050565b60006040820190506133b56000830185612c8d565b6133c26020830184612c8d565b9392505050565b60006040820190506133de6000830186612c8d565b81810360208301526133f1818486612cb3565b9050949350505050565b60006080820190506134106000830187612c8d565b61341d6020830186613171565b61342a6040830185612c8d565b6134376060830184612c8d565b95945050505050565b60006020820190506134556000830184612d36565b92915050565b60006020820190506134706000830184612d45565b92915050565b600060208201905061348b6000830184612d63565b92915050565b600060208201905081810360008301526134ab8184612d72565b905092915050565b600060208201905081810360008301526134cc81612dab565b9050919050565b600060208201905081810360008301526134ec81612dce565b9050919050565b6000602082019050818103600083015261350c81612df1565b9050919050565b6000602082019050818103600083015261352c81612e14565b9050919050565b6000602082019050818103600083015261354c81612e37565b9050919050565b6000602082019050818103600083015261356c81612e5a565b9050919050565b6000602082019050818103600083015261358c81612e7d565b9050919050565b600060208201905081810360008301526135ac81612ea0565b9050919050565b600060208201905081810360008301526135cc81612ec3565b9050919050565b600060208201905081810360008301526135ec81612ee6565b9050919050565b6000602082019050818103600083015261360c81612f09565b9050919050565b6000602082019050818103600083015261362c81612f2c565b9050919050565b6000602082019050818103600083015261364c81612f4f565b9050919050565b6000602082019050818103600083015261366c81612f72565b9050919050565b6000602082019050818103600083015261368c81612f95565b9050919050565b600060208201905081810360008301526136ac81612fb8565b9050919050565b600060208201905081810360008301526136cc81612fdb565b9050919050565b600060208201905081810360008301526136ec81612ffe565b9050919050565b6000602082019050818103600083015261370c81613021565b9050919050565b6000602082019050818103600083015261372c81613044565b9050919050565b6000602082019050818103600083015261374c81613067565b9050919050565b6000602082019050818103600083015261376c8161308a565b9050919050565b6000602082019050818103600083015261378c816130ad565b9050919050565b600060208201905081810360008301526137ac816130d0565b9050919050565b600060208201905081810360008301526137cc816130f3565b9050919050565b60006020820190506137e86000830184613116565b92915050565b6000602082019050613803600083018461314b565b92915050565b600060a08201905061381e600083018861314b565b61382b6020830187612c58565b6138386040830186613116565b613845606083018561314b565b6138526080830184612d54565b9695505050505050565b600060a082019050613871600083018861314b565b61387e6020830187612c58565b61388b6040830186613116565b613898606083018561314b565b6138a5608083018461313c565b9695505050505050565b60006060820190506138c4600083018661314b565b6138d16020830185612c7e565b6138de6040830184613116565b949350505050565b60006060820190506138fb600083018761314b565b6139086020830186612c8d565b818103604083015261391b818486612cb3565b905095945050505050565b6000613930613941565b905061393c8282613cf5565b919050565b6000604051905090565b600067ffffffffffffffff82111561396657613965613ea2565b5b602082029050602081019050919050565b600067ffffffffffffffff82111561399257613991613ea2565b5b602082029050602081019050919050565b600081519050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600080858511156139fa576139f9613ee0565b5b83861115613a0b57613a0a613edb565b5b6001850283019150848603905094509492505050565b6000613a2c82613c0c565b9150613a3783613c0c565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff03821115613a6c57613a6b613de6565b5b828201905092915050565b6000613a8282613c26565b9150613a8d83613c26565b92508267ffffffffffffffff03821115613aaa57613aa9613de6565b5b828201905092915050565b6000613ac082613c0c565b9150613acb83613c0c565b925082613adb57613ada613e15565b5b828204905092915050565b6000613af182613c0c565b9150613afc83613c0c565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0483118215151615613b3557613b34613de6565b5b828202905092915050565b6000613b4b82613c0c565b9150613b5683613c0c565b925082821015613b6957613b68613de6565b5b828203905092915050565b6000613b7f82613bec565b9050919050565b60008115159050919050565b60007fffffffffffffffffffffffffffffffffffffffffff000000000000000000000082169050919050565b6000819050919050565b6000613bd382613b74565b9050919050565b6000613be582613b74565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600063ffffffff82169050919050565b600067ffffffffffffffff82169050919050565b600060ff82169050919050565b6000613c5282613c59565b9050919050565b6000613c6482613bec565b9050919050565b6000613c7682613c7d565b9050919050565b6000613c8882613bec565b9050919050565b6000613c9a82613c16565b9050919050565b6000613cac82613c3a565b9050919050565b82818337600083830152505050565b60005b83811015613ce0578082015181840152602081019050613cc5565b83811115613cef576000848401525b50505050565b613cfe82613ef4565b810181811067ffffffffffffffff82111715613d1d57613d1c613ea2565b5b80604052505050565b6000613d3182613c0c565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415613d6457613d63613de6565b5b600182019050919050565b6000613d7a82613c16565b915063ffffffff821415613d9157613d90613de6565b5b600182019050919050565b6000613da782613db8565b9050919050565b6000819050919050565b6000613dc382613f12565b9050919050565b6000819050919050565b6000613ddf82613f05565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b60008160c01b9050919050565b60008160601b9050919050565b7f45434453413a20696e76616c6964207369676e61747572650000000000000000600082015250565b7f6d757374206265207468726f756768206163746976652070726f787900000000600082015250565b7f45434453413a20696e76616c6964207369676e6174757265206c656e67746800600082015250565b7f4e6f7420656e6f756768207369676e6174757265730000000000000000000000600082015250565b7f556e61626c6520746f207665726966792070726f6f6600000000000000000000600082015250565b7f496e76616c69642064657374696e6174696f6e00000000000000000000000000600082015250565b7f556e61626c6520746f20776974686472617720616d6f756e7400000000000000600082015250565b7f496e76616c6964207369676e6174757265000000000000000000000000000000600082015250565b7f5769746864726177616c20616c72656164792070726f63657373656400000000600082015250565b7f45434453413a20696e76616c6964207369676e6174757265202773272076616c60008201527f7565000000000000000000000000000000000000000000000000000000000000602082015250565b7f416464726573733a20696e73756666696369656e742062616c616e636520666f60008201527f722063616c6c0000000000000000000000000000000000000000000000000000602082015250565b7f436f756c64206e6f7420766572696679207369676e6174757265000000000000600082015250565b7f45524331393637557067726164653a20756e737570706f727465642070726f7860008201527f6961626c65555549440000000000000000000000000000000000000000000000602082015250565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160008201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b7f45434453413a20696e76616c6964207369676e6174757265202776272076616c60008201527f7565000000000000000000000000000000000000000000000000000000000000602082015250565b7f45524331393637557067726164653a206e657720696d706c656d656e7461746960008201527f6f6e206973206e6f742055555053000000000000000000000000000000000000602082015250565b7f496e76616c6964206465706f73697420616d6f756e7400000000000000000000600082015250565b7f496e76616c6964206e6f6e636520666f72206f7261636c652075706461746500600082015250565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b7f6d757374206265207468726f7567682064656c656761746563616c6c00000000600082015250565b7f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f60008201527f6e74726163740000000000000000000000000000000000000000000000000000602082015250565b7f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000600082015250565b7f6d757374206e6f74206265207468726f7567682064656c656761746563616c6c600082015250565b7f4e6f206f7261636c657300000000000000000000000000000000000000000000600082015250565b7f5361666545524332303a204552433230206f7065726174696f6e20646964206e60008201527f6f74207375636365656400000000000000000000000000000000000000000000602082015250565b61447f81613b74565b811461448a57600080fd5b50565b61449681613b86565b81146144a157600080fd5b50565b6144ad81613b92565b81146144b857600080fd5b50565b6144c481613bbe565b81146144cf57600080fd5b50565b6144db81613bc8565b81146144e657600080fd5b50565b6144f281613bda565b81146144fd57600080fd5b50565b61450981613c0c565b811461451457600080fd5b50565b61452081613c16565b811461452b57600080fd5b50565b61453781613c26565b811461454257600080fd5b5056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220a3276d9c99c99b0ad190021b6a7897529c20500b4514a8ece0c8b42538e8a95764736f6c63430008060033";
    const nativeTokenImplementationCode = "0x60a06040523073ffffffffffffffffffffffffffffffffffffffff1660809073ffffffffffffffffffffffffffffffffffffffff1660601b8152503480156200004757600080fd5b50620000586200005e60201b60201c565b62000245565b6200007060ff6200007360201b60201c565b50565b60008060019054906101000a900460ff1615620000fd5760018260ff16148015620000b15750620000af306200017960201b620014c51760201c565b155b620000f3576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620000ea90620001c3565b60405180910390fd5b6000905062000174565b8160ff1660008054906101000a900460ff1660ff161062000155576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016200014c90620001c3565b60405180910390fd5b816000806101000a81548160ff021916908360ff160217905550600190505b919050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000620001ab602e83620001e5565b9150620001b882620001f6565b604082019050919050565b60006020820190508181036000830152620001de816200019c565b9050919050565b600082825260208201905092915050565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160008201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b60805160601c6142046200027260003960008181610dbf015281816110d0015261115f01526142046000f3fe6080604052600436106101145760003560e01c8063744d49cc116100a0578063de35f5cb11610064578063de35f5cb14610392578063dfbc6269146103bd578063e0acac7f146103e8578063ed72eb2414610413578063f358ec611461043e57610114565b8063744d49cc146102ab578063b2b22a85146102d6578063b81f853c14610301578063c7a983b51461032a578063dde4d9501461035557610114565b80634bd2d7f9116100e75780634bd2d7f9146101b257806352d1902d146101ef578063593777b51461021a5780635b69a7d814610245578063612411101461028257610114565b8063073b142214610119578063183bdeaa146101355780632333ad8b14610160578063465c4d1514610189575b600080fd5b610133600480360381019061012e9190612665565b610467565b005b34801561014157600080fd5b5061014a610474565b60405161015791906134e9565b60405180910390f35b34801561016c57600080fd5b5061018760048036038101906101829190612941565b61048e565b005b34801561019557600080fd5b506101b060048036038101906101ab9190612810565b610900565b005b3480156101be57600080fd5b506101d960048036038101906101d491906127e3565b610da3565b6040516101e691906130bb565b60405180910390f35b3480156101fb57600080fd5b50610204610dbb565b60405161021191906130bb565b60405180910390f35b34801561022657600080fd5b5061022f610e74565b60405161023c91906134ce565b60405180910390f35b34801561025157600080fd5b5061026c6004803603810190610267919061271f565b610e7a565b60405161027991906130a0565b60405180910390f35b34801561028e57600080fd5b506102a960048036038101906102a491906128aa565b610eb9565b005b3480156102b757600080fd5b506102c06110c2565b6040516102cd91906134ce565b60405180910390f35b3480156102e257600080fd5b506102eb6110c8565b6040516102f891906134ce565b60405180910390f35b34801561030d57600080fd5b50610328600480360381019061032391906126bf565b6110ce565b005b34801561033657600080fd5b5061033f6113a2565b60405161034c9190613176565b60405180910390f35b34801561036157600080fd5b5061037c6004803603810190610377919061271f565b6113c8565b60405161038991906130bb565b60405180910390f35b34801561039e57600080fd5b506103a76113e0565b6040516103b491906134e9565b60405180910390f35b3480156103c957600080fd5b506103d26113fa565b6040516103df91906134e9565b60405180910390f35b3480156103f457600080fd5b506103fd611414565b60405161040a91906134ce565b60405180910390f35b34801561041f57600080fd5b5061042861141a565b60405161043591906134ce565b60405180910390f35b34801561044a57600080fd5b506104656004803603810190610460919061274c565b611427565b005b61047181346114e8565b50565b600760009054906101000a900467ffffffffffffffff1681565b600660149054906101000a900467ffffffffffffffff1667ffffffffffffffff168667ffffffffffffffff1610156104fb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104f29061340e565b60405180910390fd5b6000604090506000818787905061051291906137b0565b905060008111610557576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161054e906134ae565b60405180910390fd5b6000600230600760009054906101000a900467ffffffffffffffff16888b8b60405160200161058a959493929190612f3e565b6040516020818303038152906040526040516105a69190612fe9565b602060405180830381855afa1580156105c3573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906105e69190612692565b9050600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631d574bc68a8388886040518563ffffffff1660e01b815260040161064994939291906135e1565b60206040518083038186803b15801561066157600080fd5b505afa158015610675573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106999190612638565b6106d8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106cf9061334e565b60405180910390fd5b8560086000600760009054906101000a900467ffffffffffffffff1667ffffffffffffffff1667ffffffffffffffff1681526020019081526020016000208190555060008267ffffffffffffffff81111561073657610735613b67565b5b6040519080825280602002602001820160405280156107645781602001602082028036833780820191505090505b50905060005b8381101561085f5760008a8a878461078291906137e1565b9088600186610791919061371c565b61079b91906137e1565b926107a8939291906136e1565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505090506000818051906020012060001c9050808484815181106108105761080f613b38565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff168152505050508080610857906139eb565b91505061076a565b508060059080519060200190610876929190612342565b506001600760008282829054906101000a900467ffffffffffffffff1661089d9190613772565b92506101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555089600660146101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550600060038190555050505050505050505050565b60045484600354610911919061371c565b1115610952576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109499061328e565b60405180910390fd5b6000604190506000600230600760009054906101000a900467ffffffffffffffff168a8a8a60405160200161098b959493929190612f8a565b6040516020818303038152906040526040516109a79190612fe9565b602060405180830381855afa1580156109c4573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906109e79190612692565b9050600080600084905060005b878790508211610bc657600088888885610a0e919061383b565b908592610a1d939291906136e1565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505090505b6005805490508463ffffffff16108015610a955750600060018563ffffffff168c63ffffffff16901c1663ffffffff16145b15610aad578380610aa590613a34565b945050610a63565b6005805490508463ffffffff161415610ac65750610bc6565b610ad08682611660565b73ffffffffffffffffffffffffffffffffffffffff1660058563ffffffff1681548110610b0057610aff613b38565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610b81576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b789061334e565b60405180910390fd5b8363ffffffff16600163ffffffff16901b821791508380610ba190613a34565b9450508480610baf906139eb565b9550508683610bbe919061371c565b9250506109f4565b60016002600580549050610bda91906137b0565b610be4919061371c565b841015610c26576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c1d9061322e565b60405180910390fd5b8960036000828254610c38919061371c565b9250508190555060008c67ffffffffffffffff166040600760009054906101000a900467ffffffffffffffff1667ffffffffffffffff16901b610c7b919061371c565b90506000801b600960008381526020019081526020016000205414610cd5576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ccc906132ce565b60405180910390fd5b6000600760009054906101000a900467ffffffffffffffff168e8e8e604051602001610d049493929190613052565b6040516020818303038152906040528051906020012090508060096000848152602001908152602001600020819055507f028315f59a3b3e104b3beec5aca23db0d4409cd0d1d749204d785cfd39a4009a8e8e8e600760009054906101000a900467ffffffffffffffff1687604051610d81959493929190613557565b60405180910390a1610d938d8d611687565b5050505050505050505050505050565b60086020528060005260406000206000915090505481565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1614610e4b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e429061348e565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b905090565b60025481565b60058181548110610e8a57600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600860008467ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002054905060006002878787604051602001610efe93929190613015565b604051602081830303815290604052604051610f1a9190612fe9565b602060405180830381855afa158015610f37573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190610f5a9190612692565b9050610f678383836116b4565b610fa6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f9d9061324e565b60405180910390fd5b60008767ffffffffffffffff166040610fbf919061371c565b8567ffffffffffffffff16901b9050600085898989604051602001610fe79493929190613052565b6040516020818303038152906040528051906020012090508060096000848152602001908152602001600020541415611055576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161104c906132ce565b60405180910390fd5b8060096000848152602001908152602001600020819055507f028315f59a3b3e104b3beec5aca23db0d4409cd0d1d749204d785cfd39a4009a8989898960006040516110a5959493929190613504565b60405180910390a16110b78888611687565b505050505050505050565b60015481565b60045481565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff16141561115d576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111549061344e565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1661119c6117fa565b73ffffffffffffffffffffffffffffffffffffffff16146111f2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111e9906131ee565b60405180910390fd5b60006002306111ff6117fa565b8460405160200161121293929190612f01565b60405160208183030381529060405260405161122e9190612fe9565b602060405180830381855afa15801561124b573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061126e9190612692565b9050611278611851565b73ffffffffffffffffffffffffffffffffffffffff1663a7c5b1118286866040518463ffffffff1660e01b81526004016112b4939291906130ff565b60206040518083038186803b1580156112cc57600080fd5b505afa1580156112e0573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906113049190612638565b611343576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161133a906132ae565b60405180910390fd5b61139c82600067ffffffffffffffff81111561136257611361613b67565b5b6040519080825280601f01601f1916602001820160405280156113945781602001600182028036833780820191505090505b50600061187b565b50505050565b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60096020528060005260406000206000915090505481565b600060029054906101000a900467ffffffffffffffff1681565b600660149054906101000a900467ffffffffffffffff1681565b60035481565b6000600580549050905090565b600061143360016119f8565b90508015611457576001600060016101000a81548160ff0219169083151502179055505b6114648686868686611ae8565b80156114bd5760008060016101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860016040516114b49190613191565b60405180910390a15b505050505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b80600154111580156114fc57506002548111155b61153b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611532906133ee565b60405180910390fd5b600060f81b8260006015811061155457611553613b38565b5b1a60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916146115ba576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115b19061326e565b60405180910390fd5b60008060029054906101000a900467ffffffffffffffff1690506001600060028282829054906101000a900467ffffffffffffffff166115fa9190613772565b92506101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055507f01bc4bb7c8ad3891d2159f29189c74d9528104fb81b05893732d1f06621e2c4f818484604051611653939291906135aa565b60405180910390a1505050565b600080600061166f8585611be1565b9150915061167c81611c64565b819250505092915050565b6116b0818373ffffffffffffffffffffffffffffffffffffffff16611e3990919063ffffffff16565b5050565b60008082905060005b85518110156117ec5760008682815181106116db576116da613b38565b5b6020026020010151905080831161176457600283826040516020016117019291906130d6565b60405160208183030381529060405260405161171d9190612fe9565b602060405180830381855afa15801561173a573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061175d9190612692565b92506117d8565b600281846040516020016117799291906130d6565b6040516020818303038152906040526040516117959190612fe9565b602060405180830381855afa1580156117b2573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906117d59190612692565b92505b5080806117e4906139eb565b9150506116bd565b508381149150509392505050565b60006118287f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b611f2d565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6118a77f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd914360001b611f37565b60000160009054906101000a900460ff16156118cb576118c683611f41565b6119f3565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b815260040160206040518083038186803b15801561191157600080fd5b505afa92505050801561194257506040513d601f19601f8201168201806040525081019061193f9190612692565b60015b611981576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611978906133ce565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b81146119e6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119dd9061336e565b60405180910390fd5b506119f2838383611ffa565b5b505050565b60008060019054906101000a900460ff1615611a6f5760018260ff16148015611a275750611a25306114c5565b155b611a66576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a5d9061338e565b60405180910390fd5b60009050611ae3565b8160ff1660008054906101000a900460ff1660ff1610611ac4576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611abb9061338e565b60405180910390fd5b816000806101000a81548160ff021916908360ff160217905550600190505b919050565b60008060026101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555084600181905550836002819055508260048190555060006003819055508160059080519060200190611b44929190612342565b5080600660006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600660146101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055506000600760006101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055505050505050565b600080604183511415611c235760008060006020860151925060408601519150606086015160001a9050611c1787828585612026565b94509450505050611c5d565b604083511415611c54576000806020850151915060408501519050611c49868383612133565b935093505050611c5d565b60006002915091505b9250929050565b60006004811115611c7857611c77613b09565b5b816004811115611c8b57611c8a613b09565b5b1415611c9657611e36565b60016004811115611caa57611ca9613b09565b5b816004811115611cbd57611cbc613b09565b5b1415611cfe576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611cf5906131ce565b60405180910390fd5b60026004811115611d1257611d11613b09565b5b816004811115611d2557611d24613b09565b5b1415611d66576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d5d9061320e565b60405180910390fd5b60036004811115611d7a57611d79613b09565b5b816004811115611d8d57611d8c613b09565b5b1415611dce576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611dc59061330e565b60405180910390fd5b600480811115611de157611de0613b09565b5b816004811115611df457611df3613b09565b5b1415611e35576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e2c906133ae565b60405180910390fd5b5b50565b80471015611e7c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e739061332e565b60405180910390fd5b60008273ffffffffffffffffffffffffffffffffffffffff1682604051611ea290613000565b60006040518083038185875af1925050503d8060008114611edf576040519150601f19603f3d011682016040523d82523d6000602084013e611ee4565b606091505b5050905080611f28576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f1f906132ee565b60405180910390fd5b505050565b6000819050919050565b6000819050919050565b611f4a816114c5565b611f89576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611f809061342e565b60405180910390fd5b80611fb67f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b611f2d565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b61200383612192565b6000825111806120105750805b156120215761201f83836121e1565b505b505050565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08360001c111561206157600060039150915061212a565b601b8560ff16141580156120795750601c8560ff1614155b1561208b57600060049150915061212a565b6000600187878787604051600081526020016040526040516120b09493929190613131565b6020604051602081039080840390855afa1580156120d2573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff1614156121215760006001925092505061212a565b80600092509250505b94509492505050565b60008060007f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60001b841690506000601b60ff8660001c901c612176919061371c565b905061218487828885612026565b935093505050935093915050565b61219b81611f41565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b606061220683836040518060600160405280602781526020016141a86027913961220e565b905092915050565b6060612219846114c5565b612258576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161224f9061346e565b60405180910390fd5b6000808573ffffffffffffffffffffffffffffffffffffffff16856040516122809190612fe9565b600060405180830381855af49150503d80600081146122bb576040519150601f19603f3d011682016040523d82523d6000602084013e6122c0565b606091505b50915091506122d08282866122db565b925050509392505050565b606083156122eb5782905061233b565b6000835111156122fe5782518084602001fd5b816040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161233291906131ac565b60405180910390fd5b9392505050565b8280548282559060005260206000209081019282156123bb579160200282015b828111156123ba5782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190612362565b5b5090506123c891906123cc565b5090565b5b808211156123e55760008160009055506001016123cd565b5090565b60006123fc6123f784613646565b613621565b9050808382526020820190508285602086028201111561241f5761241e613baa565b5b60005b8581101561244f578161243588826124c9565b845260208401935060208301925050600181019050612422565b5050509392505050565b600061246c61246784613672565b613621565b9050808382526020820190508285602086028201111561248f5761248e613baa565b5b60005b858110156124bf57816124a58882612564565b845260208401935060208301925050600181019050612492565b5050509392505050565b6000813590506124d8816140ef565b92915050565b600082601f8301126124f3576124f2613b9b565b5b81356125038482602086016123e9565b91505092915050565b600082601f83011261252157612520613b9b565b5b8135612531848260208601612459565b91505092915050565b60008151905061254981614106565b92915050565b60008135905061255e8161411d565b92915050565b60008135905061257381614134565b92915050565b60008151905061258881614134565b92915050565b60008083601f8401126125a4576125a3613b9b565b5b8235905067ffffffffffffffff8111156125c1576125c0613b96565b5b6020830191508360018202830111156125dd576125dc613baa565b5b9250929050565b6000813590506125f38161414b565b92915050565b60008135905061260881614162565b92915050565b60008135905061261d81614179565b92915050565b60008135905061263281614190565b92915050565b60006020828403121561264e5761264d613bb4565b5b600061265c8482850161253a565b91505092915050565b60006020828403121561267b5761267a613bb4565b5b60006126898482850161254f565b91505092915050565b6000602082840312156126a8576126a7613bb4565b5b60006126b684828501612579565b91505092915050565b6000806000604084860312156126d8576126d7613bb4565b5b600084013567ffffffffffffffff8111156126f6576126f5613baf565b5b6127028682870161258e565b93509350506020612715868287016124c9565b9150509250925092565b60006020828403121561273557612734613bb4565b5b6000612743848285016125f9565b91505092915050565b600080600080600060a0868803121561276857612767613bb4565b5b6000612776888289016125f9565b9550506020612787888289016125f9565b9450506040612798888289016125f9565b935050606086013567ffffffffffffffff8111156127b9576127b8613baf565b5b6127c5888289016124de565b92505060806127d6888289016125e4565b9150509295509295909350565b6000602082840312156127f9576127f8613bb4565b5b600061280784828501612623565b91505092915050565b60008060008060008060a0878903121561282d5761282c613bb4565b5b600061283b89828a01612623565b965050602061284c89828a016124c9565b955050604061285d89828a016125f9565b945050606061286e89828a0161260e565b935050608087013567ffffffffffffffff81111561288f5761288e613baf565b5b61289b89828a0161258e565b92509250509295509295509295565b600080600080600060a086880312156128c6576128c5613bb4565b5b60006128d488828901612623565b95505060206128e5888289016124c9565b94505060406128f6888289016125f9565b935050606061290788828901612623565b925050608086013567ffffffffffffffff81111561292857612927613baf565b5b6129348882890161250c565b9150509295509295909350565b6000806000806000806080878903121561295e5761295d613bb4565b5b600061296c89828a01612623565b965050602087013567ffffffffffffffff81111561298d5761298c613baf565b5b61299989828a0161258e565b955095505060406129ac89828a01612564565b935050606087013567ffffffffffffffff8111156129cd576129cc613baf565b5b6129d989828a0161258e565b92509250509295509295509295565b6129f18161386f565b82525050565b612a08612a038261386f565b613a61565b82525050565b612a178161388d565b82525050565b612a26816138b9565b82525050565b612a3d612a38826138b9565b613a73565b82525050565b6000612a4f83856136b4565b9350612a5c838584613978565b612a6583613bb9565b840190509392505050565b6000612a7c83856136c5565b9350612a89838584613978565b82840190509392505050565b6000612aa08261369e565b612aaa81856136c5565b9350612aba818560208601613987565b80840191505092915050565b612acf81613930565b82525050565b612ade81613954565b82525050565b612aed81613966565b82525050565b6000612afe826136a9565b612b0881856136d0565b9350612b18818560208601613987565b612b2181613bb9565b840191505092915050565b6000612b396018836136d0565b9150612b4482613be4565b602082019050919050565b6000612b5c601c836136d0565b9150612b6782613c0d565b602082019050919050565b6000612b7f601f836136d0565b9150612b8a82613c36565b602082019050919050565b6000612ba26015836136d0565b9150612bad82613c5f565b602082019050919050565b6000612bc56016836136d0565b9150612bd082613c88565b602082019050919050565b6000612be86013836136d0565b9150612bf382613cb1565b602082019050919050565b6000612c0b6019836136d0565b9150612c1682613cda565b602082019050919050565b6000612c2e6011836136d0565b9150612c3982613d03565b602082019050919050565b6000612c51601c836136d0565b9150612c5c82613d2c565b602082019050919050565b6000612c74603a836136d0565b9150612c7f82613d55565b604082019050919050565b6000612c976022836136d0565b9150612ca282613da4565b604082019050919050565b6000612cba601d836136d0565b9150612cc582613df3565b602082019050919050565b6000612cdd601a836136d0565b9150612ce882613e1c565b602082019050919050565b6000612d006029836136d0565b9150612d0b82613e45565b604082019050919050565b6000612d23602e836136d0565b9150612d2e82613e94565b604082019050919050565b6000612d466022836136d0565b9150612d5182613ee3565b604082019050919050565b6000612d69602e836136d0565b9150612d7482613f32565b604082019050919050565b6000612d8c6016836136d0565b9150612d9782613f81565b602082019050919050565b6000612daf601f836136d0565b9150612dba82613faa565b602082019050919050565b6000612dd2602d836136d0565b9150612ddd82613fd3565b604082019050919050565b6000612df5601c836136d0565b9150612e0082614022565b602082019050919050565b6000612e186026836136d0565b9150612e238261404b565b604082019050919050565b6000612e3b6000836136c5565b9150612e468261409a565b600082019050919050565b6000612e5e6020836136d0565b9150612e698261409d565b602082019050919050565b6000612e81600a836136d0565b9150612e8c826140c6565b602082019050919050565b612ea0816138f5565b82525050565b612eb7612eb2826138f5565b613a8f565b82525050565b612ec6816138ff565b82525050565b612ed58161390f565b82525050565b612eec612ee78261390f565b613a99565b82525050565b612efb81613923565b82525050565b6000612f0d82866129f7565b601482019150612f1d82856129f7565b601482019150612f2d82846129f7565b601482019150819050949350505050565b6000612f4a82886129f7565b601482019150612f5a8287612edb565b600882019150612f6a8286612a2c565b602082019150612f7b828486612a70565b91508190509695505050505050565b6000612f9682886129f7565b601482019150612fa68287612edb565b600882019150612fb68286612edb565b600882019150612fc682856129f7565b601482019150612fd68284612ea6565b6020820191508190509695505050505050565b6000612ff58284612a95565b915081905092915050565b600061300b82612e2e565b9150819050919050565b60006130218286612edb565b60088201915061303182856129f7565b6014820191506130418284612ea6565b602082019150819050949350505050565b600061305e8287612edb565b60088201915061306e8286612edb565b60088201915061307e82856129f7565b60148201915061308e8284612ea6565b60208201915081905095945050505050565b60006020820190506130b560008301846129e8565b92915050565b60006020820190506130d06000830184612a1d565b92915050565b60006040820190506130eb6000830185612a1d565b6130f86020830184612a1d565b9392505050565b60006040820190506131146000830186612a1d565b8181036020830152613127818486612a43565b9050949350505050565b60006080820190506131466000830187612a1d565b6131536020830186612ef2565b6131606040830185612a1d565b61316d6060830184612a1d565b95945050505050565b600060208201905061318b6000830184612ac6565b92915050565b60006020820190506131a66000830184612ae4565b92915050565b600060208201905081810360008301526131c68184612af3565b905092915050565b600060208201905081810360008301526131e781612b2c565b9050919050565b6000602082019050818103600083015261320781612b4f565b9050919050565b6000602082019050818103600083015261322781612b72565b9050919050565b6000602082019050818103600083015261324781612b95565b9050919050565b6000602082019050818103600083015261326781612bb8565b9050919050565b6000602082019050818103600083015261328781612bdb565b9050919050565b600060208201905081810360008301526132a781612bfe565b9050919050565b600060208201905081810360008301526132c781612c21565b9050919050565b600060208201905081810360008301526132e781612c44565b9050919050565b6000602082019050818103600083015261330781612c67565b9050919050565b6000602082019050818103600083015261332781612c8a565b9050919050565b6000602082019050818103600083015261334781612cad565b9050919050565b6000602082019050818103600083015261336781612cd0565b9050919050565b6000602082019050818103600083015261338781612cf3565b9050919050565b600060208201905081810360008301526133a781612d16565b9050919050565b600060208201905081810360008301526133c781612d39565b9050919050565b600060208201905081810360008301526133e781612d5c565b9050919050565b6000602082019050818103600083015261340781612d7f565b9050919050565b6000602082019050818103600083015261342781612da2565b9050919050565b6000602082019050818103600083015261344781612dc5565b9050919050565b6000602082019050818103600083015261346781612de8565b9050919050565b6000602082019050818103600083015261348781612e0b565b9050919050565b600060208201905081810360008301526134a781612e51565b9050919050565b600060208201905081810360008301526134c781612e74565b9050919050565b60006020820190506134e36000830184612e97565b92915050565b60006020820190506134fe6000830184612ecc565b92915050565b600060a0820190506135196000830188612ecc565b61352660208301876129e8565b6135336040830186612e97565b6135406060830185612ecc565b61354d6080830184612ad5565b9695505050505050565b600060a08201905061356c6000830188612ecc565b61357960208301876129e8565b6135866040830186612e97565b6135936060830185612ecc565b6135a06080830184612ebd565b9695505050505050565b60006060820190506135bf6000830186612ecc565b6135cc6020830185612a0e565b6135d96040830184612e97565b949350505050565b60006060820190506135f66000830187612ecc565b6136036020830186612a1d565b8181036040830152613616818486612a43565b905095945050505050565b600061362b61363c565b905061363782826139ba565b919050565b6000604051905090565b600067ffffffffffffffff82111561366157613660613b67565b5b602082029050602081019050919050565b600067ffffffffffffffff82111561368d5761368c613b67565b5b602082029050602081019050919050565b600081519050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600080858511156136f5576136f4613ba5565b5b8386111561370657613705613ba0565b5b6001850283019150848603905094509492505050565b6000613727826138f5565b9150613732836138f5565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111561376757613766613aab565b5b828201905092915050565b600061377d8261390f565b91506137888361390f565b92508267ffffffffffffffff038211156137a5576137a4613aab565b5b828201905092915050565b60006137bb826138f5565b91506137c6836138f5565b9250826137d6576137d5613ada565b5b828204905092915050565b60006137ec826138f5565b91506137f7836138f5565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff04831182151516156138305761382f613aab565b5b828202905092915050565b6000613846826138f5565b9150613851836138f5565b92508282101561386457613863613aab565b5b828203905092915050565b600061387a826138d5565b9050919050565b60008115159050919050565b60007fffffffffffffffffffffffffffffffffffffffffff000000000000000000000082169050919050565b6000819050919050565b60006138ce8261386f565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600063ffffffff82169050919050565b600067ffffffffffffffff82169050919050565b600060ff82169050919050565b600061393b82613942565b9050919050565b600061394d826138d5565b9050919050565b600061395f826138ff565b9050919050565b600061397182613923565b9050919050565b82818337600083830152505050565b60005b838110156139a557808201518184015260208101905061398a565b838111156139b4576000848401525b50505050565b6139c382613bb9565b810181811067ffffffffffffffff821117156139e2576139e1613b67565b5b80604052505050565b60006139f6826138f5565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415613a2957613a28613aab565b5b600182019050919050565b6000613a3f826138ff565b915063ffffffff821415613a5657613a55613aab565b5b600182019050919050565b6000613a6c82613a7d565b9050919050565b6000819050919050565b6000613a8882613bd7565b9050919050565b6000819050919050565b6000613aa482613bca565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b60008160c01b9050919050565b60008160601b9050919050565b7f45434453413a20696e76616c6964207369676e61747572650000000000000000600082015250565b7f6d757374206265207468726f756768206163746976652070726f787900000000600082015250565b7f45434453413a20696e76616c6964207369676e6174757265206c656e67746800600082015250565b7f4e6f7420656e6f756768207369676e6174757265730000000000000000000000600082015250565b7f556e61626c6520746f207665726966792070726f6f6600000000000000000000600082015250565b7f496e76616c69642064657374696e6174696f6e00000000000000000000000000600082015250565b7f556e61626c6520746f20776974686472617720616d6f756e7400000000000000600082015250565b7f496e76616c6964207369676e6174757265000000000000000000000000000000600082015250565b7f5769746864726177616c20616c72656164792070726f63657373656400000000600082015250565b7f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260008201527f6563697069656e74206d61792068617665207265766572746564000000000000602082015250565b7f45434453413a20696e76616c6964207369676e6174757265202773272076616c60008201527f7565000000000000000000000000000000000000000000000000000000000000602082015250565b7f416464726573733a20696e73756666696369656e742062616c616e6365000000600082015250565b7f436f756c64206e6f7420766572696679207369676e6174757265000000000000600082015250565b7f45524331393637557067726164653a20756e737570706f727465642070726f7860008201527f6961626c65555549440000000000000000000000000000000000000000000000602082015250565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160008201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b7f45434453413a20696e76616c6964207369676e6174757265202776272076616c60008201527f7565000000000000000000000000000000000000000000000000000000000000602082015250565b7f45524331393637557067726164653a206e657720696d706c656d656e7461746960008201527f6f6e206973206e6f742055555053000000000000000000000000000000000000602082015250565b7f496e76616c6964206465706f73697420616d6f756e7400000000000000000000600082015250565b7f496e76616c6964206e6f6e636520666f72206f7261636c652075706461746500600082015250565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b7f6d757374206265207468726f7567682064656c656761746563616c6c00000000600082015250565b7f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f60008201527f6e74726163740000000000000000000000000000000000000000000000000000602082015250565b50565b7f6d757374206e6f74206265207468726f7567682064656c656761746563616c6c600082015250565b7f4e6f206f7261636c657300000000000000000000000000000000000000000000600082015250565b6140f88161386f565b811461410357600080fd5b50565b61410f81613881565b811461411a57600080fd5b50565b6141268161388d565b811461413157600080fd5b50565b61413d816138b9565b811461414857600080fd5b50565b614154816138c3565b811461415f57600080fd5b50565b61416b816138f5565b811461417657600080fd5b50565b614182816138ff565b811461418d57600080fd5b50565b6141998161390f565b81146141a457600080fd5b5056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220a3a1529d7f458bee76a6046f92a57c4ad04ca217e2763dccc4ca7a2b20e75c8e64736f6c63430008060033";

    document.getElementById("byoc-onboarding-implementation-payload").value =
        isNativeToken() ? nativeTokenImplementationCode : erc20ImplementationCode;

    const price = document.getElementById("byoc-onboarding-price").value;
    const erc20 = document.getElementById("byoc-onboarding-erc20").value;
    const erc20Decimals = document.getElementById("byoc-onboarding-erc20-decimals").value;

    const implementationAddress =
        document.getElementById("byoc-onboarding-implementation-address").value;

    let proxyInitialization = "";
    let votePayload = "";
    const erc20Populated = isNativeToken() || (isAddress(erc20) && isInteger(erc20Decimals));
    if (isPrice(price) && isAddress(implementationAddress) && erc20Populated) {
      let functionHeader;
      let offset;
      let decimals;
      if (!isNativeToken()) {
        functionHeader = "907cc7b1" + pad(erc20);
        offset = "c0";
        decimals = Number(erc20Decimals);
      } else {
        functionHeader = "f358ec61";
        offset = "a0";
        decimals = 18;
      }

      const indexOf = price.indexOf(".");
      let priceDecimals = 0;
      let priceBigInt;
      if (indexOf > -1) {
        const withoutDecimalPoint = price.replace(".", "");
        priceDecimals = withoutDecimalPoint.length - indexOf;
        priceBigInt = BigInt(withoutDecimalPoint);
      } else {
        priceDecimals = 0;
        priceBigInt = BigInt(price);
      }

      function valueToCoins(value) {
        const coinsBigInt = BigInt(value) * (BigInt(10) ** BigInt(decimals + priceDecimals))
            / priceBigInt;
        return pad(coinsBigInt.toString(16));
      }

      const withdrawMin = valueToCoins(25);
      const withdrawMax = valueToCoins(200000);
      const depositMin = withdrawMin;
      const depositMax = valueToCoins(100000);

      const chain = readIntegratedChain();
      const largeOracleContracts = {
        "Ethereum": "0x81a19EE43bcF9FF57ab2694B3f435e3354894B3A",
        "Polygon": "0x3435359Df1D8C126ea1b68BB51E958fdf43F8272",
        "BnbSmartChain": "0x4c4ECb1EFb3BC2a065af1F714B60980a6562C26f",
      };
      const largeOracleContract = largeOracleContracts[chain];
      let encodedInit = functionHeader + pad(depositMin) + pad(depositMax)
          + pad(withdrawMax) + pad(offset) + pad(largeOracleContract) + pad("0");
      const proxyCode = "0x608060405260405162000d8638038062000d86833981810160405281019062000029919062000467565b60017f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbd60001c6200005b9190620006a5565b60001b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b146200009357620000926200078a565b5b620000a782826000620000af60201b60201c565b5050620008f4565b620000c083620000f260201b60201c565b600082511180620000ce5750805b15620000ed57620000eb83836200014960201b620000371760201c565b505b505050565b62000103816200017f60201b60201c565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b606062000177838360405180606001604052806027815260200162000d5f602791396200025560201b60201c565b905092915050565b62000195816200033960201b620000641760201c565b620001d7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620001ce90620005d0565b60405180910390fd5b80620002117f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b6200035c60201b620000871760201c565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b606062000268846200033960201b60201c565b620002aa576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620002a190620005f2565b60405180910390fd5b6000808573ffffffffffffffffffffffffffffffffffffffff1685604051620002d4919062000593565b600060405180830381855af49150503d806000811462000311576040519150601f19603f3d011682016040523d82523d6000602084013e62000316565b606091505b50915091506200032e8282866200036660201b60201c565b925050509392505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000819050919050565b606083156200037857829050620003cb565b6000835111156200038c5782518084602001fd5b816040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620003c29190620005ac565b60405180910390fd5b9392505050565b6000620003e9620003e3846200063d565b62000614565b9050828152602081018484840111156200040857620004076200081c565b5b620004158482856200071e565b509392505050565b6000815190506200042e81620008da565b92915050565b600082601f8301126200044c576200044b62000817565b5b81516200045e848260208601620003d2565b91505092915050565b6000806040838503121562000481576200048062000826565b5b600062000491858286016200041d565b925050602083015167ffffffffffffffff811115620004b557620004b462000821565b5b620004c38582860162000434565b9150509250929050565b6000620004da8262000673565b620004e6818562000689565b9350620004f88185602086016200071e565b80840191505092915050565b600062000511826200067e565b6200051d818562000694565b93506200052f8185602086016200071e565b6200053a816200082b565b840191505092915050565b600062000554602d8362000694565b915062000561826200083c565b604082019050919050565b60006200057b60268362000694565b915062000588826200088b565b604082019050919050565b6000620005a18284620004cd565b915081905092915050565b60006020820190508181036000830152620005c8818462000504565b905092915050565b60006020820190508181036000830152620005eb8162000545565b9050919050565b600060208201905081810360008301526200060d816200056c565b9050919050565b60006200062062000633565b90506200062e828262000754565b919050565b6000604051905090565b600067ffffffffffffffff8211156200065b576200065a620007e8565b5b62000666826200082b565b9050602081019050919050565b600081519050919050565b600081519050919050565b600081905092915050565b600082825260208201905092915050565b6000620006b28262000714565b9150620006bf8362000714565b925082821015620006d557620006d4620007b9565b5b828203905092915050565b6000620006ed82620006f4565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b60005b838110156200073e57808201518184015260208101905062000721565b838111156200074e576000848401525b50505050565b6200075f826200082b565b810181811067ffffffffffffffff82111715620007815762000780620007e8565b5b80604052505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052600160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b7f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f60008201527f6e74726163740000000000000000000000000000000000000000000000000000602082015250565b620008e581620006e0565b8114620008f157600080fd5b50565b61045b80620009046000396000f3fe6080604052366100135761001161001d565b005b61001b61001d565b005b610025610091565b610035610030610093565b6100a2565b565b606061005c83836040518060600160405280602781526020016103ff602791396100c8565b905092915050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000819050919050565b565b600061009d610195565b905090565b3660008037600080366000845af43d6000803e80600081146100c3573d6000f35b3d6000fd5b60606100d384610064565b610112576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161010990610319565b60405180910390fd5b6000808573ffffffffffffffffffffffffffffffffffffffff168560405161013a91906102e0565b600060405180830381855af49150503d8060008114610175576040519150601f19603f3d011682016040523d82523d6000602084013e61017a565b606091505b509150915061018a8282866101ec565b925050509392505050565b60006101c37f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b610087565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b606083156101fc5782905061024c565b60008351111561020f5782518084602001fd5b816040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161024391906102f7565b60405180910390fd5b9392505050565b600061025e82610339565b610268818561034f565b935061027881856020860161036b565b80840191505092915050565b600061028f82610344565b610299818561035a565b93506102a981856020860161036b565b6102b28161039e565b840191505092915050565b60006102ca60268361035a565b91506102d5826103af565b604082019050919050565b60006102ec8284610253565b915081905092915050565b600060208201905081810360008301526103118184610284565b905092915050565b60006020820190508181036000830152610332816102bd565b9050919050565b600081519050919050565b600081519050919050565b600081905092915050565b600082825260208201905092915050565b60005b8381101561038957808201518184015260208101905061036e565b83811115610398576000848401525b50505050565b6000601f19601f8301169050919050565b7f416464726573733a2064656c65676174652063616c6c20746f206e6f6e2d636f60008201527f6e7472616374000000000000000000000000000000000000000000000000000060208201525056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220d35f2a2cf976f4e9370d2d05a57653b8caa4c7f81b86b2e17e0a5cca23ab867f64736f6c63430008060033416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564";
      proxyInitialization =
          proxyCode
          + pad(implementationAddress)
          + "0000000000000000000000000000000000000000000000000000000000000040"
          + pad((encodedInit.length / 2).toString(16))
          + encodedInit
          + "00000000000000000000000000000000000000000000000000000000";

      const referenceContract = document.getElementById("byoc-onboarding-reference-contract").value;
      const referenceDecimals = document.getElementById("byoc-onboarding-reference-decimals").value;
      const proxyAddress = document.getElementById("byoc-onboarding-proxy-address").value;
      const tokenName = document.getElementById("byoc-onboarding-token-name").value;
      const priceInformationSupplied = isStableCoin()
          || (isAddress(referenceContract) && isInteger(referenceDecimals));
      if (isAddress(proxyAddress) && priceInformationSupplied && tokenName !== "") {
        const symbol = (isNativeToken() ? tokenName : chain + "_" + tokenName).toUpperCase();

        let numerator = priceBigInt;
        let denominator = (BigInt(10) ** BigInt(decimals + priceDecimals));
        const maxValue = BigInt(2) ** BigInt(63);
        while (numerator > maxValue || denominator > maxValue) {
          denominator = denominator / BigInt(10);
          numerator = numerator / BigInt(10);
        }

        const priceOracleConfig = isStableCoin()
            ? "00"
            : "01" + stringAsHex(pad(referenceContract, 40)) + pad(decimals.toString(16), 8) + pad(
            referenceDecimals.toString(16), 8);

        const addByocRpc = "00"
            + stringAsHex(symbol)
            + stringAsHex(chain)
            + pad(numerator.toString(16), 16)
            + pad(denominator.toString(16), 16)
            + withdrawMax
            + withdrawMin
            + depositMax
            + pad(proxyAddress, 40)
            + priceOracleConfig;
        votePayload =
            "0458ff0a290e2fe847b23a364925799d1c53c8b36b"
            + pad((addByocRpc.length / 2).toString(16), 8)
            + addByocRpc
            + pad((250000).toString(16), 16); //Cost upper bound

      }
    }
    document.getElementById("byoc-onboarding-proxy-payload").value = proxyInitialization;
    document.getElementById("byoc-onboarding-vote-payload").value = votePayload;
  }

  function stringAsHex(value) {
    let result = pad(value.length.toString(16), 8);
    for (let i = 0; i < value.length; i++) {
      result += pad(value.charCodeAt(i).toString(16), 2);
    }
    return result;
  }

  function pad(value, charCount = 64) {
    if (value.startsWith("0x")) {
      value = value.substr(2);
    }
    return value.padStart(charCount, "0");
  }

  updateFields();
</script>
