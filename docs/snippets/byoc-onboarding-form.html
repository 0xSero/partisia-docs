<form id="byoc-onboarding-form" class="generator-form md-typeset" action="javascript:"
      onchange="updateFields()"
      onsubmit="generateConfigs()">
  <p>
  <h2>1. Deploy implementation contract</h2>
  </p>
  <p>
    <label>
      <span>(1) Token type</span>
      <select id="byoc-onboarding-token-type">
        <option value="erc20">ERC20</option>
        <option value="native">Native token</option>
      </select>
    </label>
  </p>
  <p>
    <label>
      <span>(2) Integrated chain</span>
      <select id="byoc-onboarding-chain">
        <option value="Ethereum">Ethereum</option>
        <option value="Polygon">Polygon</option>
        <option value="BnbSmartChain">BNB Smart Chain</option>
      </select>
    </label>
  </p>

  <p>
    <label for="byoc-onboarding-implementation-payload">
      <span>(3) Payload for deploying implementation contract:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-implementation-payload" placeholder="Click here to generate payload after all fields above have correct values" readonly>
  </p>
  <div class="button-container">
    <button type="button" class="md-button" onclick="deployImplementation()">Deploy with Metamask
    </button>
  </div>
  <p>
  <h2>2. Deploy configured proxy contract</h2>
  </p>
  <p>
    <label for="byoc-onboarding-implementation-address">
      <span>(4) Deployed implementation contract address:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-implementation-address">
  </p>

  <p>
    <label for="byoc-onboarding-price">
      <span>(4) Current price per token in USD:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-price">
  </p>
  <p class="erc20">
    <label for="byoc-onboarding-erc20">
      <span>(4) ERC20 token contract address:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-erc20">
  </p>
  <p class="erc20">
    <label for="byoc-onboarding-erc20-decimals">
      <span>(4) ERC20 decimals:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-erc20-decimals">
  </p>

  <p>
    <label for="byoc-onboarding-proxy-payload">
      <span>(5) Payload for deploying proxy contract:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-proxy-payload" placeholder="Click here to generate payload after all fields above have correct values" readonly>
  </p>
  <div class="button-container">
    <button type="button" class="md-button" onclick="deployProxy()">Deploy with Metamask</button>
  </div>
  <p>
    <h2>3. Propose a vote on Partisia Blockchain</h2>
  </p>
  <p>
    <label for="byoc-onboarding-proxy-address">
      <span>(6) Deployed proxy contract address:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-proxy-address">
  </p>


  <p>
    <label for="byoc-onboarding-token-name">
      <span>(6) Name of bridged token:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-token-name">
  </p>
  <p>
    <label>
      <span>(6) Is stable coin?</span>
      <select onchange="changeStableCoin()" id="byoc-onboarding-is-stable-coin">
        <option value="no">No</option>
        <option value="yes">Yes</option>
      </select>
    </label>
  </p>
  <p class="price-oracle-info">
    <label for="byoc-onboarding-data-feed-chain">
      <span>(6) Chainlink data feed chain:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-data-feed-chain">
  </p>
  <p class="price-oracle-info">
    <label for="byoc-onboarding-data-feed-contract">
      <span>(6) Chainlink data feed contract:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-data-feed-contract">
  </p>
  <p class="price-oracle-info">
    <label for="byoc-onboarding-data-feed-decimals">
      <span>(6) Chainlink data feed contract decimals:</span>
    </label>
    <input class="md-input md-input--stretch" id="byoc-onboarding-data-feed-decimals">
  </p>

  <div>
    <p>
      <label for="byoc-onboarding-vote-payload">
        <span>(7) Update RPC for vote on Partisia Blockchain:</span>
      </label>
      <input class="md-input md-input--stretch" id="byoc-onboarding-vote-payload" placeholder="When all above fields are filled out the RPC you need to create a vote on PBC will be generated in this field" readonly>
    </p>
  </div>

</form>

<script>

  function isNativeToken() {
    return document.getElementById("byoc-onboarding-token-type").value === "native";
  }

  function changeTokenType() {
    const form = document.getElementById("byoc-onboarding-form");
    form.classList.toggle("native-token", isNativeToken());
  }

  function isStableCoin() {
    return document.getElementById("byoc-onboarding-is-stable-coin").value === "yes";
  }

  function changeStableCoin() {
    const form = document.getElementById("byoc-onboarding-form");
    form.classList.toggle("stable-coin", isStableCoin());
  }

  function updateFields() {
    changeTokenType();
    changeStableCoin();

    generateConfigs();
  }

  function deployImplementation() {
    deployThroughMetamask("byoc-onboarding-implementation-payload");
  }

  function deployProxy() {
    deployThroughMetamask("byoc-onboarding-proxy-payload");
  }

  function readIntegratedChain() {
    return document.getElementById("byoc-onboarding-chain").value;
  }

  function deployThroughMetamask(inputId) {
    const chainIds = {
      "Ethereum": "0x1",
      "BnbSmartChain": "0x38",
      "Polygon": "0x89",
    };
    const chainId = chainIds[readIntegratedChain()];
    const bytecode = document.getElementById(inputId).value;
    if (bytecode.length === 0) {
      window.alert("Payload has not been generated yet.");
      return;
    }
    window.ethereum.request({
      "method": "wallet_switchEthereumChain",
      "params": [
        {
          "chainId": chainId,
        },
      ],
    })
    .then(() => window.ethereum.request({method: "eth_requestAccounts"}))
    .then(a => {
      let account = a[0];
      return window.ethereum.request({
        method: "eth_sendTransaction",
        params: [
          {
            from: account,
            data: bytecode,
          },
        ],
      })
      .then(() => window.alert(
          "Deployment sent - follow transaction through metamask to determine contract address"))
      .catch((error) => window.alert("An error occurred: " + error.message));
    });
  }

  function isAddress(value) {
    return /^(0x)?[a-fA-F0-9]{40}$/.test(value);
  }

  function isInteger(value) {
    return /^[0-9]+$/.test(value);
  }

  function isPrice(value) {
    return /^[0-9]+(\.[0-9]+)?$/.test(value);
  }

  function readInputValue(elementId) {
    return document.getElementById(elementId).value.trim();
  }

  function generateConfigs() {
    // WithdrawAndDepositErc20 bytecode
    const erc20ImplementationCode = "0x60a06040523073ffffffffffffffffffffffffffffffffffffffff1660809073ffffffffffffffffffffffffffffffffffffffff1660601b8152503480156200004757600080fd5b50620000586200005e60201b60201c565b62000208565b600060019054906101000a900460ff1615620000b1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620000a8906200015c565b60405180910390fd5b60ff801660008054906101000a900460ff1660ff1614620001225760ff6000806101000a81548160ff021916908360ff1602179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860ff6040516200011991906200017e565b60405180910390a15b565b6000620001336027836200019b565b91506200014082620001b9565b604082019050919050565b6200015681620001ac565b82525050565b60006020820190508181036000830152620001778162000124565b9050919050565b60006020820190506200019560008301846200014b565b92915050565b600082825260208201905092915050565b600060ff82169050919050565b7f496e697469616c697a61626c653a20636f6e747261637420697320696e69746960008201527f616c697a696e6700000000000000000000000000000000000000000000000000602082015250565b60805160601c6142e96200023560003960008181610d5b015281816111f6015261128501526142e96000f3fe608060405234801561001057600080fd5b506004361061012c5760003560e01c8063907cc7b1116100ad578063de35f5cb11610071578063de35f5cb1461031d578063dfbc62691461033b578063e0acac7f14610359578063ed72eb2414610377578063fc0c546a146103955761012c565b8063907cc7b114610279578063b2b22a8514610295578063b81f853c146102b3578063c7a983b5146102cf578063dde4d950146102ed5761012c565b806352d1902d116100f457806352d1902d146101d3578063593777b5146101f15780635b69a7d81461020f578063612411101461023f578063744d49cc1461025b5761012c565b8063183bdeaa146101315780631900a9a01461014f5780632333ad8b1461016b578063465c4d15146101875780634bd2d7f9146101a3575b600080fd5b6101396103b3565b60405161014691906135d3565b60405180910390f35b6101696004803603810190610164919061271b565b6103cd565b005b61018560048036038101906101809190612a1c565b61042a565b005b6101a1600480360381019061019c91906128eb565b61089c565b005b6101bd60048036038101906101b891906128be565b610d3f565b6040516101ca91906131aa565b60405180910390f35b6101db610d57565b6040516101e891906131aa565b60405180910390f35b6101f9610e10565b60405161020691906135b8565b60405180910390f35b61022960048036038101906102249190612891565b610e16565b604051610236919061312f565b60405180910390f35b61025960048036038101906102549190612985565b610e55565b005b61026361105e565b60405161027091906135b8565b60405180910390f35b610293600480360381019061028e91906127e8565b611064565b005b61029d6111ee565b6040516102aa91906135b8565b60405180910390f35b6102cd60048036038101906102c89190612788565b6111f4565b005b6102d76114c8565b6040516102e49190613280565b60405180910390f35b61030760048036038101906103029190612891565b6114ee565b60405161031491906131aa565b60405180910390f35b610325611506565b60405161033291906135d3565b60405180910390f35b610343611520565b60405161035091906135d3565b60405180910390f35b61036161153a565b60405161036e91906135b8565b60405180910390f35b61037f611540565b60405161038c91906135b8565b60405180910390f35b61039d61154d565b6040516103aa9190613265565b60405180910390f35b600760009054906101000a900467ffffffffffffffff1681565b61041c333083600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16611573909392919063ffffffff16565b61042682826115fc565b5050565b600660149054906101000a900467ffffffffffffffff1667ffffffffffffffff168667ffffffffffffffff161015610497576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161048e906134d8565b60405180910390fd5b600060409050600081878790506104ae919061389a565b9050600081116104f3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104ea90613578565b60405180910390fd5b6000600230600760009054906101000a900467ffffffffffffffff16888b8b604051602001610526959493929190612fe2565b604051602081830303815290604052604051610542919061308d565b602060405180830381855afa15801561055f573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190610582919061275b565b9050600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631d574bc68a8388886040518563ffffffff1660e01b81526004016105e594939291906136cb565b60206040518083038186803b1580156105fd57600080fd5b505afa158015610611573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061063591906126ee565b610674576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161066b90613438565b60405180910390fd5b8560086000600760009054906101000a900467ffffffffffffffff1667ffffffffffffffff1667ffffffffffffffff1681526020019081526020016000208190555060008267ffffffffffffffff8111156106d2576106d1613c87565b5b6040519080825280602002602001820160405280156107005781602001602082028036833780820191505090505b50905060005b838110156107fb5760008a8a878461071e91906138cb565b908860018661072d9190613806565b61073791906138cb565b92610744939291906137cb565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505090506000818051906020012060001c9050808484815181106107ac576107ab613c58565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050505080806107f390613b0b565b915050610706565b5080600590805190602001906108129291906123e3565b506001600760008282829054906101000a900467ffffffffffffffff16610839919061385c565b92506101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555089600660146101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550600060038190555050505050505050505050565b600454846003546108ad9190613806565b11156108ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016108e590613398565b60405180910390fd5b6000604190506000600230600760009054906101000a900467ffffffffffffffff168a8a8a60405160200161092795949392919061302e565b604051602081830303815290604052604051610943919061308d565b602060405180830381855afa158015610960573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190610983919061275b565b9050600080600084905060005b878790508211610b62576000888888856109aa9190613925565b9085926109b9939291906137cb565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505090505b6005805490508463ffffffff16108015610a315750600060018563ffffffff168c63ffffffff16901c1663ffffffff16145b15610a49578380610a4190613b54565b9450506109ff565b6005805490508463ffffffff161415610a625750610b62565b610a6c8682611774565b73ffffffffffffffffffffffffffffffffffffffff1660058563ffffffff1681548110610a9c57610a9b613c58565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610b1d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b1490613438565b60405180910390fd5b8363ffffffff16600163ffffffff16901b821791508380610b3d90613b54565b9450508480610b4b90613b0b565b9550508683610b5a9190613806565b925050610990565b60016002600580549050610b76919061389a565b610b809190613806565b841015610bc2576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610bb990613338565b60405180910390fd5b8960036000828254610bd49190613806565b9250508190555060008c67ffffffffffffffff166040600760009054906101000a900467ffffffffffffffff1667ffffffffffffffff16901b610c179190613806565b90506000801b600960008381526020019081526020016000205414610c71576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c68906133d8565b60405180910390fd5b6000600760009054906101000a900467ffffffffffffffff168e8e8e604051602001610ca094939291906130e1565b6040516020818303038152906040528051906020012090508060096000848152602001908152602001600020819055507f028315f59a3b3e104b3beec5aca23db0d4409cd0d1d749204d785cfd39a4009a8e8e8e600760009054906101000a900467ffffffffffffffff1687604051610d1d959493929190613641565b60405180910390a1610d2f8d8d61179b565b5050505050505050505050505050565b60086020528060005260406000206000915090505481565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1614610de7576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610dde90613558565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b905090565b60025481565b60058181548110610e2657600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600860008467ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002054905060006002878787604051602001610e9a939291906130a4565b604051602081830303815290604052604051610eb6919061308d565b602060405180830381855afa158015610ed3573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190610ef6919061275b565b9050610f038383836117ec565b610f42576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f3990613358565b60405180910390fd5b60008767ffffffffffffffff1660408667ffffffffffffffff16901b610f689190613806565b9050600085898989604051602001610f8394939291906130e1565b6040516020818303038152906040528051906020012090508060096000848152602001908152602001600020541415610ff1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610fe8906133d8565b60405180910390fd5b8060096000848152602001908152602001600020819055507f028315f59a3b3e104b3beec5aca23db0d4409cd0d1d749204d785cfd39a4009a8989898960006040516110419594939291906135ee565b60405180910390a1611053888861179b565b505050505050505050565b60015481565b60008060019054906101000a900460ff161590508080156110955750600160008054906101000a900460ff1660ff16105b806110c257506110a430611932565b1580156110c15750600160008054906101000a900460ff1660ff16145b5b611101576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110f890613478565b60405180910390fd5b60016000806101000a81548160ff021916908360ff160217905550801561113e576001600060016101000a81548160ff0219169083151502179055505b86600a60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555061118c8686868686611955565b80156111e55760008060016101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860016040516111dc919061329b565b60405180910390a15b50505050505050565b60045481565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff161415611283576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161127a90613518565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff166112c2611a4e565b73ffffffffffffffffffffffffffffffffffffffff1614611318576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161130f906132f8565b60405180910390fd5b6000600230611325611a4e565b8460405160200161133893929190612fa5565b604051602081830303815290604052604051611354919061308d565b602060405180830381855afa158015611371573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190611394919061275b565b905061139e611aa5565b73ffffffffffffffffffffffffffffffffffffffff1663a7c5b1118286866040518463ffffffff1660e01b81526004016113da939291906131ee565b60206040518083038186803b1580156113f257600080fd5b505afa158015611406573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061142a91906126ee565b611469576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611460906133b8565b60405180910390fd5b6114c282600067ffffffffffffffff81111561148857611487613c87565b5b6040519080825280601f01601f1916602001820160405280156114ba5781602001600182028036833780820191505090505b506000611acf565b50505050565b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60096020528060005260406000206000915090505481565b600060029054906101000a900467ffffffffffffffff1681565b600660149054906101000a900467ffffffffffffffff1681565b60035481565b6000600580549050905090565b600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6115f6846323b872dd60e01b8585856040516024016115949392919061314a565b604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050611c4c565b50505050565b806001541115801561161057506002548111155b61164f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611646906134b8565b60405180910390fd5b600060f81b8260006015811061166857611667613c58565b5b1a60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff1916146116ce576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016116c590613378565b60405180910390fd5b60008060029054906101000a900467ffffffffffffffff1690506001600060028282829054906101000a900467ffffffffffffffff1661170e919061385c565b92506101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055507f01bc4bb7c8ad3891d2159f29189c74d9528104fb81b05893732d1f06621e2c4f81848460405161176793929190613694565b60405180910390a1505050565b60008060006117838585611d14565b9150915061179081611d66565b819250505092915050565b6117e88282600a60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16611ed49092919063ffffffff16565b5050565b60008082905060005b855181101561192457600086828151811061181357611812613c58565b5b6020026020010151905080831161189c57600283826040516020016118399291906131c5565b604051602081830303815290604052604051611855919061308d565b602060405180830381855afa158015611872573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190611895919061275b565b9250611910565b600281846040516020016118b19291906131c5565b6040516020818303038152906040526040516118cd919061308d565b602060405180830381855afa1580156118ea573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061190d919061275b565b92505b50808061191c90613b0b565b9150506117f5565b508381149150509392505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b60008060026101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550846001819055508360028190555082600481905550600060038190555081600590805190602001906119b19291906123e3565b5080600660006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600660146101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055506000600760006101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055505050505050565b6000611a7c7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b611f5a565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b611afb7f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd914360001b611f64565b60000160009054906101000a900460ff1615611b1f57611b1a83611f6e565b611c47565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b815260040160206040518083038186803b158015611b6557600080fd5b505afa925050508015611b9657506040513d601f19601f82011682018060405250810190611b93919061275b565b60015b611bd5576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611bcc90613498565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b8114611c3a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c3190613458565b60405180910390fd5b50611c46838383612027565b5b505050565b6000611cae826040518060400160405280602081526020017f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c65648152508573ffffffffffffffffffffffffffffffffffffffff166120539092919063ffffffff16565b9050600081511480611cd0575080806020019051810190611ccf91906126ee565b5b611d0f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d0690613598565b60405180910390fd5b505050565b600080604183511415611d565760008060006020860151925060408601519150606086015160001a9050611d4a8782858561206b565b94509450505050611d5f565b60006002915091505b9250929050565b60006004811115611d7a57611d79613c29565b5b816004811115611d8d57611d8c613c29565b5b1415611d9857611ed1565b60016004811115611dac57611dab613c29565b5b816004811115611dbf57611dbe613c29565b5b1415611e00576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611df7906132d8565b60405180910390fd5b60026004811115611e1457611e13613c29565b5b816004811115611e2757611e26613c29565b5b1415611e68576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e5f90613318565b60405180910390fd5b60036004811115611e7c57611e7b613c29565b5b816004811115611e8f57611e8e613c29565b5b1415611ed0576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ec7906133f8565b60405180910390fd5b5b50565b611f558363a9059cbb60e01b8484604051602401611ef3929190613181565b604051602081830303815290604052907bffffffffffffffffffffffffffffffffffffffffffffffffffffffff19166020820180517bffffffffffffffffffffffffffffffffffffffffffffffffffffffff8381831617835250505050611c4c565b505050565b6000819050919050565b6000819050919050565b611f7781611932565b611fb6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611fad906134f8565b60405180910390fd5b80611fe37f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b611f5a565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b6120308361214e565b60008251118061203d5750805b1561204e5761204c838361219d565b505b505050565b606061206284846000856121ca565b90509392505050565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08360001c11156120a6576000600391509150612145565b6000600187878787604051600081526020016040526040516120cb9493929190613220565b6020604051602081039080840390855afa1580156120ed573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141561213c57600060019250925050612145565b80600092509250505b94509492505050565b61215781611f6e565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b60606121c2838360405180606001604052806027815260200161428d60279139612297565b905092915050565b60608247101561220f576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161220690613418565b60405180910390fd5b6000808673ffffffffffffffffffffffffffffffffffffffff168587604051612238919061308d565b60006040518083038185875af1925050503d8060008114612275576040519150601f19603f3d011682016040523d82523d6000602084013e61227a565b606091505b509150915061228b8783838761231d565b92505050949350505050565b60606000808573ffffffffffffffffffffffffffffffffffffffff16856040516122c1919061308d565b600060405180830381855af49150503d80600081146122fc576040519150601f19603f3d011682016040523d82523d6000602084013e612301565b606091505b50915091506123128683838761231d565b925050509392505050565b60608315612380576000835114156123785761233885611932565b612377576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161236e90613538565b60405180910390fd5b5b82905061238b565b61238a8383612393565b5b949350505050565b6000825111156123a65781518083602001fd5b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016123da91906132b6565b60405180910390fd5b82805482825590600052602060002090810192821561245c579160200282015b8281111561245b5782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190612403565b5b509050612469919061246d565b5090565b5b8082111561248657600081600090555060010161246e565b5090565b600061249d61249884613730565b61370b565b905080838252602082019050828560208602820111156124c0576124bf613cca565b5b60005b858110156124f057816124d6888261256a565b8452602084019350602083019250506001810190506124c3565b5050509392505050565b600061250d6125088461375c565b61370b565b905080838252602082019050828560208602820111156125305761252f613cca565b5b60005b8581101561256057816125468882612605565b845260208401935060208301925050600181019050612533565b5050509392505050565b600081359050612579816141bd565b92915050565b600082601f83011261259457612593613cbb565b5b81356125a484826020860161248a565b91505092915050565b600082601f8301126125c2576125c1613cbb565b5b81356125d28482602086016124fa565b91505092915050565b6000815190506125ea816141d4565b92915050565b6000813590506125ff816141eb565b92915050565b60008135905061261481614202565b92915050565b60008151905061262981614202565b92915050565b60008083601f84011261264557612644613cbb565b5b8235905067ffffffffffffffff81111561266257612661613cb6565b5b60208301915083600182028301111561267e5761267d613cca565b5b9250929050565b60008135905061269481614219565b92915050565b6000813590506126a981614230565b92915050565b6000813590506126be81614247565b92915050565b6000813590506126d38161425e565b92915050565b6000813590506126e881614275565b92915050565b60006020828403121561270457612703613cd4565b5b6000612712848285016125db565b91505092915050565b6000806040838503121561273257612731613cd4565b5b6000612740858286016125f0565b9250506020612751858286016126af565b9150509250929050565b60006020828403121561277157612770613cd4565b5b600061277f8482850161261a565b91505092915050565b6000806000604084860312156127a1576127a0613cd4565b5b600084013567ffffffffffffffff8111156127bf576127be613ccf565b5b6127cb8682870161262f565b935093505060206127de8682870161256a565b9150509250925092565b60008060008060008060c0878903121561280557612804613cd4565b5b600061281389828a01612685565b965050602061282489828a016126af565b955050604061283589828a016126af565b945050606061284689828a016126af565b935050608087013567ffffffffffffffff81111561286757612866613ccf565b5b61287389828a0161257f565b92505060a061288489828a0161269a565b9150509295509295509295565b6000602082840312156128a7576128a6613cd4565b5b60006128b5848285016126af565b91505092915050565b6000602082840312156128d4576128d3613cd4565b5b60006128e2848285016126d9565b91505092915050565b60008060008060008060a0878903121561290857612907613cd4565b5b600061291689828a016126d9565b965050602061292789828a0161256a565b955050604061293889828a016126af565b945050606061294989828a016126c4565b935050608087013567ffffffffffffffff81111561296a57612969613ccf565b5b61297689828a0161262f565b92509250509295509295509295565b600080600080600060a086880312156129a1576129a0613cd4565b5b60006129af888289016126d9565b95505060206129c08882890161256a565b94505060406129d1888289016126af565b93505060606129e2888289016126d9565b925050608086013567ffffffffffffffff811115612a0357612a02613ccf565b5b612a0f888289016125ad565b9150509295509295909350565b60008060008060008060808789031215612a3957612a38613cd4565b5b6000612a4789828a016126d9565b965050602087013567ffffffffffffffff811115612a6857612a67613ccf565b5b612a7489828a0161262f565b95509550506040612a8789828a01612605565b935050606087013567ffffffffffffffff811115612aa857612aa7613ccf565b5b612ab489828a0161262f565b92509250509295509295509295565b612acc81613959565b82525050565b612ae3612ade82613959565b613b81565b82525050565b612af281613977565b82525050565b612b01816139a3565b82525050565b612b18612b13826139a3565b613b93565b82525050565b6000612b2a838561379e565b9350612b37838584613a98565b612b4083613cd9565b840190509392505050565b6000612b5783856137af565b9350612b64838584613a98565b82840190509392505050565b6000612b7b82613788565b612b8581856137af565b9350612b95818560208601613aa7565b80840191505092915050565b612baa81613a2c565b82525050565b612bb981613a50565b82525050565b612bc881613a74565b82525050565b612bd781613a86565b82525050565b6000612be882613793565b612bf281856137ba565b9350612c02818560208601613aa7565b612c0b81613cd9565b840191505092915050565b6000612c236018836137ba565b9150612c2e82613d04565b602082019050919050565b6000612c46601c836137ba565b9150612c5182613d2d565b602082019050919050565b6000612c69601f836137ba565b9150612c7482613d56565b602082019050919050565b6000612c8c6015836137ba565b9150612c9782613d7f565b602082019050919050565b6000612caf6016836137ba565b9150612cba82613da8565b602082019050919050565b6000612cd26013836137ba565b9150612cdd82613dd1565b602082019050919050565b6000612cf56019836137ba565b9150612d0082613dfa565b602082019050919050565b6000612d186011836137ba565b9150612d2382613e23565b602082019050919050565b6000612d3b601c836137ba565b9150612d4682613e4c565b602082019050919050565b6000612d5e6022836137ba565b9150612d6982613e75565b604082019050919050565b6000612d816026836137ba565b9150612d8c82613ec4565b604082019050919050565b6000612da4601a836137ba565b9150612daf82613f13565b602082019050919050565b6000612dc76029836137ba565b9150612dd282613f3c565b604082019050919050565b6000612dea602e836137ba565b9150612df582613f8b565b604082019050919050565b6000612e0d602e836137ba565b9150612e1882613fda565b604082019050919050565b6000612e306016836137ba565b9150612e3b82614029565b602082019050919050565b6000612e53601f836137ba565b9150612e5e82614052565b602082019050919050565b6000612e76602d836137ba565b9150612e818261407b565b604082019050919050565b6000612e99601c836137ba565b9150612ea4826140ca565b602082019050919050565b6000612ebc601d836137ba565b9150612ec7826140f3565b602082019050919050565b6000612edf6020836137ba565b9150612eea8261411c565b602082019050919050565b6000612f02600a836137ba565b9150612f0d82614145565b602082019050919050565b6000612f25602a836137ba565b9150612f308261416e565b604082019050919050565b612f44816139f1565b82525050565b612f5b612f56826139f1565b613baf565b82525050565b612f6a816139fb565b82525050565b612f7981613a0b565b82525050565b612f90612f8b82613a0b565b613bb9565b82525050565b612f9f81613a1f565b82525050565b6000612fb18286612ad2565b601482019150612fc18285612ad2565b601482019150612fd18284612ad2565b601482019150819050949350505050565b6000612fee8288612ad2565b601482019150612ffe8287612f7f565b60088201915061300e8286612b07565b60208201915061301f828486612b4b565b91508190509695505050505050565b600061303a8288612ad2565b60148201915061304a8287612f7f565b60088201915061305a8286612f7f565b60088201915061306a8285612ad2565b60148201915061307a8284612f4a565b6020820191508190509695505050505050565b60006130998284612b70565b915081905092915050565b60006130b08286612f7f565b6008820191506130c08285612ad2565b6014820191506130d08284612f4a565b602082019150819050949350505050565b60006130ed8287612f7f565b6008820191506130fd8286612f7f565b60088201915061310d8285612ad2565b60148201915061311d8284612f4a565b60208201915081905095945050505050565b60006020820190506131446000830184612ac3565b92915050565b600060608201905061315f6000830186612ac3565b61316c6020830185612ac3565b6131796040830184612f3b565b949350505050565b60006040820190506131966000830185612ac3565b6131a36020830184612f3b565b9392505050565b60006020820190506131bf6000830184612af8565b92915050565b60006040820190506131da6000830185612af8565b6131e76020830184612af8565b9392505050565b60006040820190506132036000830186612af8565b8181036020830152613216818486612b1e565b9050949350505050565b60006080820190506132356000830187612af8565b6132426020830186612f96565b61324f6040830185612af8565b61325c6060830184612af8565b95945050505050565b600060208201905061327a6000830184612ba1565b92915050565b60006020820190506132956000830184612bb0565b92915050565b60006020820190506132b06000830184612bce565b92915050565b600060208201905081810360008301526132d08184612bdd565b905092915050565b600060208201905081810360008301526132f181612c16565b9050919050565b6000602082019050818103600083015261331181612c39565b9050919050565b6000602082019050818103600083015261333181612c5c565b9050919050565b6000602082019050818103600083015261335181612c7f565b9050919050565b6000602082019050818103600083015261337181612ca2565b9050919050565b6000602082019050818103600083015261339181612cc5565b9050919050565b600060208201905081810360008301526133b181612ce8565b9050919050565b600060208201905081810360008301526133d181612d0b565b9050919050565b600060208201905081810360008301526133f181612d2e565b9050919050565b6000602082019050818103600083015261341181612d51565b9050919050565b6000602082019050818103600083015261343181612d74565b9050919050565b6000602082019050818103600083015261345181612d97565b9050919050565b6000602082019050818103600083015261347181612dba565b9050919050565b6000602082019050818103600083015261349181612ddd565b9050919050565b600060208201905081810360008301526134b181612e00565b9050919050565b600060208201905081810360008301526134d181612e23565b9050919050565b600060208201905081810360008301526134f181612e46565b9050919050565b6000602082019050818103600083015261351181612e69565b9050919050565b6000602082019050818103600083015261353181612e8c565b9050919050565b6000602082019050818103600083015261355181612eaf565b9050919050565b6000602082019050818103600083015261357181612ed2565b9050919050565b6000602082019050818103600083015261359181612ef5565b9050919050565b600060208201905081810360008301526135b181612f18565b9050919050565b60006020820190506135cd6000830184612f3b565b92915050565b60006020820190506135e86000830184612f70565b92915050565b600060a0820190506136036000830188612f70565b6136106020830187612ac3565b61361d6040830186612f3b565b61362a6060830185612f70565b6136376080830184612bbf565b9695505050505050565b600060a0820190506136566000830188612f70565b6136636020830187612ac3565b6136706040830186612f3b565b61367d6060830185612f70565b61368a6080830184612f61565b9695505050505050565b60006060820190506136a96000830186612f70565b6136b66020830185612ae9565b6136c36040830184612f3b565b949350505050565b60006060820190506136e06000830187612f70565b6136ed6020830186612af8565b8181036040830152613700818486612b1e565b905095945050505050565b6000613715613726565b90506137218282613ada565b919050565b6000604051905090565b600067ffffffffffffffff82111561374b5761374a613c87565b5b602082029050602081019050919050565b600067ffffffffffffffff82111561377757613776613c87565b5b602082029050602081019050919050565b600081519050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b600080858511156137df576137de613cc5565b5b838611156137f0576137ef613cc0565b5b6001850283019150848603905094509492505050565b6000613811826139f1565b915061381c836139f1565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0382111561385157613850613bcb565b5b828201905092915050565b600061386782613a0b565b915061387283613a0b565b92508267ffffffffffffffff0382111561388f5761388e613bcb565b5b828201905092915050565b60006138a5826139f1565b91506138b0836139f1565b9250826138c0576138bf613bfa565b5b828204905092915050565b60006138d6826139f1565b91506138e1836139f1565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561391a57613919613bcb565b5b828202905092915050565b6000613930826139f1565b915061393b836139f1565b92508282101561394e5761394d613bcb565b5b828203905092915050565b6000613964826139d1565b9050919050565b60008115159050919050565b60007fffffffffffffffffffffffffffffffffffffffffff000000000000000000000082169050919050565b6000819050919050565b60006139b882613959565b9050919050565b60006139ca82613959565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600063ffffffff82169050919050565b600067ffffffffffffffff82169050919050565b600060ff82169050919050565b6000613a3782613a3e565b9050919050565b6000613a49826139d1565b9050919050565b6000613a5b82613a62565b9050919050565b6000613a6d826139d1565b9050919050565b6000613a7f826139fb565b9050919050565b6000613a9182613a1f565b9050919050565b82818337600083830152505050565b60005b83811015613ac5578082015181840152602081019050613aaa565b83811115613ad4576000848401525b50505050565b613ae382613cd9565b810181811067ffffffffffffffff82111715613b0257613b01613c87565b5b80604052505050565b6000613b16826139f1565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff821415613b4957613b48613bcb565b5b600182019050919050565b6000613b5f826139fb565b915063ffffffff821415613b7657613b75613bcb565b5b600182019050919050565b6000613b8c82613b9d565b9050919050565b6000819050919050565b6000613ba882613cf7565b9050919050565b6000819050919050565b6000613bc482613cea565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b60008160c01b9050919050565b60008160601b9050919050565b7f45434453413a20696e76616c6964207369676e61747572650000000000000000600082015250565b7f6d757374206265207468726f756768206163746976652070726f787900000000600082015250565b7f45434453413a20696e76616c6964207369676e6174757265206c656e67746800600082015250565b7f4e6f7420656e6f756768207369676e6174757265730000000000000000000000600082015250565b7f556e61626c6520746f207665726966792070726f6f6600000000000000000000600082015250565b7f496e76616c69642064657374696e6174696f6e00000000000000000000000000600082015250565b7f556e61626c6520746f20776974686472617720616d6f756e7400000000000000600082015250565b7f496e76616c6964207369676e6174757265000000000000000000000000000000600082015250565b7f5769746864726177616c20616c72656164792070726f63657373656400000000600082015250565b7f45434453413a20696e76616c6964207369676e6174757265202773272076616c60008201527f7565000000000000000000000000000000000000000000000000000000000000602082015250565b7f416464726573733a20696e73756666696369656e742062616c616e636520666f60008201527f722063616c6c0000000000000000000000000000000000000000000000000000602082015250565b7f436f756c64206e6f7420766572696679207369676e6174757265000000000000600082015250565b7f45524331393637557067726164653a20756e737570706f727465642070726f7860008201527f6961626c65555549440000000000000000000000000000000000000000000000602082015250565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160008201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b7f45524331393637557067726164653a206e657720696d706c656d656e7461746960008201527f6f6e206973206e6f742055555053000000000000000000000000000000000000602082015250565b7f496e76616c6964206465706f73697420616d6f756e7400000000000000000000600082015250565b7f496e76616c6964206e6f6e636520666f72206f7261636c652075706461746500600082015250565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b7f6d757374206265207468726f7567682064656c656761746563616c6c00000000600082015250565b7f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000600082015250565b7f6d757374206e6f74206265207468726f7567682064656c656761746563616c6c600082015250565b7f4e6f206f7261636c657300000000000000000000000000000000000000000000600082015250565b7f5361666545524332303a204552433230206f7065726174696f6e20646964206e60008201527f6f74207375636365656400000000000000000000000000000000000000000000602082015250565b6141c681613959565b81146141d157600080fd5b50565b6141dd8161396b565b81146141e857600080fd5b50565b6141f481613977565b81146141ff57600080fd5b50565b61420b816139a3565b811461421657600080fd5b50565b614222816139ad565b811461422d57600080fd5b50565b614239816139bf565b811461424457600080fd5b50565b614250816139f1565b811461425b57600080fd5b50565b614267816139fb565b811461427257600080fd5b50565b61427e81613a0b565b811461428957600080fd5b5056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a26469706673582212200dffa3915d4d9fded097514820029f0977693979329abc81747ad3c4ffdaa6dc64736f6c63430008060033";
    // WithdrawAndDepositEth bytecode
    const nativeTokenImplementationCode = "0x60a06040523073ffffffffffffffffffffffffffffffffffffffff1660809073ffffffffffffffffffffffffffffffffffffffff1660601b8152503480156200004757600080fd5b50620000586200005e60201b60201c565b62000208565b600060019054906101000a900460ff1615620000b1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620000a8906200015c565b60405180910390fd5b60ff801660008054906101000a900460ff1660ff1614620001225760ff6000806101000a81548160ff021916908360ff1602179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb384740249860ff6040516200011991906200017e565b60405180910390a15b565b6000620001336027836200019b565b91506200014082620001b9565b604082019050919050565b6200015681620001ac565b82525050565b60006020820190508181036000830152620001778162000124565b9050919050565b60006020820190506200019560008301846200014b565b92915050565b600082825260208201905092915050565b600060ff82169050919050565b7f496e697469616c697a61626c653a20636f6e747261637420697320696e69746960008201527f616c697a696e6700000000000000000000000000000000000000000000000000602082015250565b60805160601c613ffd6200023560003960008181610dbf015281816110d0015261115f0152613ffd6000f3fe6080604052600436106101145760003560e01c8063744d49cc116100a0578063de35f5cb11610064578063de35f5cb14610392578063dfbc6269146103bd578063e0acac7f146103e8578063ed72eb2414610413578063f358ec611461043e57610114565b8063744d49cc146102ab578063b2b22a85146102d6578063b81f853c14610301578063c7a983b51461032a578063dde4d9501461035557610114565b80634bd2d7f9116100e75780634bd2d7f9146101b257806352d1902d146101ef578063593777b51461021a5780635b69a7d814610245578063612411101461028257610114565b8063073b142214610119578063183bdeaa146101355780632333ad8b14610160578063465c4d1514610189575b600080fd5b610133600480360381019061012e9190612516565b610467565b005b34801561014157600080fd5b5061014a610474565b6040516101579190613357565b60405180910390f35b34801561016c57600080fd5b50610187600480360381019061018291906127f2565b61048e565b005b34801561019557600080fd5b506101b060048036038101906101ab91906126c1565b610900565b005b3480156101be57600080fd5b506101d960048036038101906101d49190612694565b610da3565b6040516101e69190612f49565b60405180910390f35b3480156101fb57600080fd5b50610204610dbb565b6040516102119190612f49565b60405180910390f35b34801561022657600080fd5b5061022f610e74565b60405161023c919061333c565b60405180910390f35b34801561025157600080fd5b5061026c600480360381019061026791906125d0565b610e7a565b6040516102799190612f2e565b60405180910390f35b34801561028e57600080fd5b506102a960048036038101906102a4919061275b565b610eb9565b005b3480156102b757600080fd5b506102c06110c2565b6040516102cd919061333c565b60405180910390f35b3480156102e257600080fd5b506102eb6110c8565b6040516102f8919061333c565b60405180910390f35b34801561030d57600080fd5b5061032860048036038101906103239190612570565b6110ce565b005b34801561033657600080fd5b5061033f6113a2565b60405161034c9190613004565b60405180910390f35b34801561036157600080fd5b5061037c600480360381019061037791906125d0565b6113c8565b6040516103899190612f49565b60405180910390f35b34801561039e57600080fd5b506103a76113e0565b6040516103b49190613357565b60405180910390f35b3480156103c957600080fd5b506103d26113fa565b6040516103df9190613357565b60405180910390f35b3480156103f457600080fd5b506103fd611414565b60405161040a919061333c565b60405180910390f35b34801561041f57600080fd5b5061042861141a565b604051610435919061333c565b60405180910390f35b34801561044a57600080fd5b50610465600480360381019061046091906125fd565b611427565b005b610471813461156f565b50565b600760009054906101000a900467ffffffffffffffff1681565b600660149054906101000a900467ffffffffffffffff1667ffffffffffffffff168667ffffffffffffffff1610156104fb576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016104f29061327c565b60405180910390fd5b60006040905060008187879050610512919061361e565b905060008111610557576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161054e9061331c565b60405180910390fd5b6000600230600760009054906101000a900467ffffffffffffffff16888b8b60405160200161058a959493929190612dcc565b6040516020818303038152906040526040516105a69190612e77565b602060405180830381855afa1580156105c3573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906105e69190612543565b9050600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16631d574bc68a8388886040518563ffffffff1660e01b8152600401610649949392919061344f565b60206040518083038186803b15801561066157600080fd5b505afa158015610675573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061069991906124e9565b6106d8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106cf906131dc565b60405180910390fd5b8560086000600760009054906101000a900467ffffffffffffffff1667ffffffffffffffff1667ffffffffffffffff1681526020019081526020016000208190555060008267ffffffffffffffff811115610736576107356139d5565b5b6040519080825280602002602001820160405280156107645781602001602082028036833780820191505090505b50905060005b8381101561085f5760008a8a8784610782919061364f565b9088600186610791919061358a565b61079b919061364f565b926107a89392919061354f565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505090506000818051906020012060001c9050808484815181106108105761080f6139a6565b5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250505050808061085790613859565b91505061076a565b5080600590805190602001906108769291906121f3565b506001600760008282829054906101000a900467ffffffffffffffff1661089d91906135e0565b92506101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555089600660146101000a81548167ffffffffffffffff021916908367ffffffffffffffff160217905550600060038190555050505050505050505050565b60045484600354610911919061358a565b1115610952576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109499061311c565b60405180910390fd5b6000604190506000600230600760009054906101000a900467ffffffffffffffff168a8a8a60405160200161098b959493929190612e18565b6040516020818303038152906040526040516109a79190612e77565b602060405180830381855afa1580156109c4573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906109e79190612543565b9050600080600084905060005b878790508211610bc657600088888885610a0e91906136a9565b908592610a1d9392919061354f565b8080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f8201169050808301925050505050505090505b6005805490508463ffffffff16108015610a955750600060018563ffffffff168c63ffffffff16901c1663ffffffff16145b15610aad578380610aa5906138a2565b945050610a63565b6005805490508463ffffffff161415610ac65750610bc6565b610ad086826116e7565b73ffffffffffffffffffffffffffffffffffffffff1660058563ffffffff1681548110610b0057610aff6139a6565b5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610b81576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b78906131dc565b60405180910390fd5b8363ffffffff16600163ffffffff16901b821791508380610ba1906138a2565b9450508480610baf90613859565b9550508683610bbe919061358a565b9250506109f4565b60016002600580549050610bda919061361e565b610be4919061358a565b841015610c26576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610c1d906130bc565b60405180910390fd5b8960036000828254610c38919061358a565b9250508190555060008c67ffffffffffffffff166040600760009054906101000a900467ffffffffffffffff1667ffffffffffffffff16901b610c7b919061358a565b90506000801b600960008381526020019081526020016000205414610cd5576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ccc9061315c565b60405180910390fd5b6000600760009054906101000a900467ffffffffffffffff168e8e8e604051602001610d049493929190612ee0565b6040516020818303038152906040528051906020012090508060096000848152602001908152602001600020819055507f028315f59a3b3e104b3beec5aca23db0d4409cd0d1d749204d785cfd39a4009a8e8e8e600760009054906101000a900467ffffffffffffffff1687604051610d819594939291906133c5565b60405180910390a1610d938d8d61170e565b5050505050505050505050505050565b60086020528060005260406000206000915090505481565b60007f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff1614610e4b576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e42906132fc565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b905090565b60025481565b60058181548110610e8a57600080fd5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000600860008467ffffffffffffffff1667ffffffffffffffff16815260200190815260200160002054905060006002878787604051602001610efe93929190612ea3565b604051602081830303815290604052604051610f1a9190612e77565b602060405180830381855afa158015610f37573d6000803e3d6000fd5b5050506040513d601f19601f82011682018060405250810190610f5a9190612543565b9050610f6783838361173b565b610fa6576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610f9d906130dc565b60405180910390fd5b60008767ffffffffffffffff1660408667ffffffffffffffff16901b610fcc919061358a565b9050600085898989604051602001610fe79493929190612ee0565b6040516020818303038152906040528051906020012090508060096000848152602001908152602001600020541415611055576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161104c9061315c565b60405180910390fd5b8060096000848152602001908152602001600020819055507f028315f59a3b3e104b3beec5aca23db0d4409cd0d1d749204d785cfd39a4009a8989898960006040516110a5959493929190613372565b60405180910390a16110b7888861170e565b505050505050505050565b60015481565b60045481565b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff163073ffffffffffffffffffffffffffffffffffffffff16141561115d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611154906132bc565b60405180910390fd5b7f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff1661119c611881565b73ffffffffffffffffffffffffffffffffffffffff16146111f2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016111e99061307c565b60405180910390fd5b60006002306111ff611881565b8460405160200161121293929190612d8f565b60405160208183030381529060405260405161122e9190612e77565b602060405180830381855afa15801561124b573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061126e9190612543565b90506112786118d8565b73ffffffffffffffffffffffffffffffffffffffff1663a7c5b1118286866040518463ffffffff1660e01b81526004016112b493929190612f8d565b60206040518083038186803b1580156112cc57600080fd5b505afa1580156112e0573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061130491906124e9565b611343576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161133a9061313c565b60405180910390fd5b61139c82600067ffffffffffffffff811115611362576113616139d5565b5b6040519080825280601f01601f1916602001820160405280156113945781602001600182028036833780820191505090505b506000611902565b50505050565b600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60096020528060005260406000206000915090505481565b600060029054906101000a900467ffffffffffffffff1681565b600660149054906101000a900467ffffffffffffffff1681565b60035481565b6000600580549050905090565b60008060019054906101000a900460ff161590508080156114585750600160008054906101000a900460ff1660ff16105b80611485575061146730611a7f565b1580156114845750600160008054906101000a900460ff1660ff16145b5b6114c4576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016114bb9061321c565b60405180910390fd5b60016000806101000a81548160ff021916908360ff1602179055508015611501576001600060016101000a81548160ff0219169083151502179055505b61150e8686868686611aa2565b80156115675760008060016101000a81548160ff0219169083151502179055507f7f26b83ff96e1f2b6a682f133852f6798a09c465da95921460cefb3847402498600160405161155e919061301f565b60405180910390a15b505050505050565b806001541115801561158357506002548111155b6115c2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016115b99061325c565b60405180910390fd5b600060f81b826000601581106115db576115da6139a6565b5b1a60f81b7effffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff191614611641576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611638906130fc565b60405180910390fd5b60008060029054906101000a900467ffffffffffffffff1690506001600060028282829054906101000a900467ffffffffffffffff1661168191906135e0565b92506101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055507f01bc4bb7c8ad3891d2159f29189c74d9528104fb81b05893732d1f06621e2c4f8184846040516116da93929190613418565b60405180910390a1505050565b60008060006116f68585611b9b565b9150915061170381611bed565b819250505092915050565b611737818373ffffffffffffffffffffffffffffffffffffffff16611d5b90919063ffffffff16565b5050565b60008082905060005b8551811015611873576000868281518110611762576117616139a6565b5b602002602001015190508083116117eb5760028382604051602001611788929190612f64565b6040516020818303038152906040526040516117a49190612e77565b602060405180830381855afa1580156117c1573d6000803e3d6000fd5b5050506040513d601f19601f820116820180604052508101906117e49190612543565b925061185f565b60028184604051602001611800929190612f64565b60405160208183030381529060405260405161181c9190612e77565b602060405180830381855afa158015611839573d6000803e3d6000fd5b5050506040513d601f19601f8201168201806040525081019061185c9190612543565b92505b50808061186b90613859565b915050611744565b508381149150509392505050565b60006118af7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b611e4f565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000600660009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b61192e7f4910fdfa16fed3260ed0e7147f7cc6da11a60208b5b9406d12a635614ffd914360001b611e59565b60000160009054906101000a900460ff16156119525761194d83611e63565b611a7a565b8273ffffffffffffffffffffffffffffffffffffffff166352d1902d6040518163ffffffff1660e01b815260040160206040518083038186803b15801561199857600080fd5b505afa9250505080156119c957506040513d601f19601f820116820180604052508101906119c69190612543565b60015b611a08576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016119ff9061323c565b60405180910390fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b8114611a6d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611a64906131fc565b60405180910390fd5b50611a79838383611f1c565b5b505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b60008060026101000a81548167ffffffffffffffff021916908367ffffffffffffffff16021790555084600181905550836002819055508260048190555060006003819055508160059080519060200190611afe9291906121f3565b5080600660006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506000600660146101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055506000600760006101000a81548167ffffffffffffffff021916908367ffffffffffffffff1602179055505050505050565b600080604183511415611bdd5760008060006020860151925060408601519150606086015160001a9050611bd187828585611f48565b94509450505050611be6565b60006002915091505b9250929050565b60006004811115611c0157611c00613977565b5b816004811115611c1457611c13613977565b5b1415611c1f57611d58565b60016004811115611c3357611c32613977565b5b816004811115611c4657611c45613977565b5b1415611c87576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611c7e9061305c565b60405180910390fd5b60026004811115611c9b57611c9a613977565b5b816004811115611cae57611cad613977565b5b1415611cef576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ce69061309c565b60405180910390fd5b60036004811115611d0357611d02613977565b5b816004811115611d1657611d15613977565b5b1415611d57576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d4e9061319c565b60405180910390fd5b5b50565b80471015611d9e576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d95906131bc565b60405180910390fd5b60008273ffffffffffffffffffffffffffffffffffffffff1682604051611dc490612e8e565b60006040518083038185875af1925050503d8060008114611e01576040519150601f19603f3d011682016040523d82523d6000602084013e611e06565b606091505b5050905080611e4a576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611e419061317c565b60405180910390fd5b505050565b6000819050919050565b6000819050919050565b611e6c81611a7f565b611eab576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611ea29061329c565b60405180910390fd5b80611ed87f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b611e4f565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b611f258361202b565b600082511180611f325750805b15611f4357611f41838361207a565b505b505050565b6000807f7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a08360001c1115611f83576000600391509150612022565b600060018787878760405160008152602001604052604051611fa89493929190612fbf565b6020604051602081039080840390855afa158015611fca573d6000803e3d6000fd5b505050602060405103519050600073ffffffffffffffffffffffffffffffffffffffff168173ffffffffffffffffffffffffffffffffffffffff16141561201957600060019250925050612022565b80600092509250505b94509492505050565b61203481611e63565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b606061209f8383604051806060016040528060278152602001613fa1602791396120a7565b905092915050565b60606000808573ffffffffffffffffffffffffffffffffffffffff16856040516120d19190612e77565b600060405180830381855af49150503d806000811461210c576040519150601f19603f3d011682016040523d82523d6000602084013e612111565b606091505b50915091506121228683838761212d565b925050509392505050565b60608315612190576000835114156121885761214885611a7f565b612187576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161217e906132dc565b60405180910390fd5b5b82905061219b565b61219a83836121a3565b5b949350505050565b6000825111156121b65781518083602001fd5b806040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016121ea919061303a565b60405180910390fd5b82805482825590600052602060002090810192821561226c579160200282015b8281111561226b5782518260006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555091602001919060010190612213565b5b509050612279919061227d565b5090565b5b8082111561229657600081600090555060010161227e565b5090565b60006122ad6122a8846134b4565b61348f565b905080838252602082019050828560208602820111156122d0576122cf613a18565b5b60005b8581101561230057816122e6888261237a565b8452602084019350602083019250506001810190506122d3565b5050509392505050565b600061231d612318846134e0565b61348f565b905080838252602082019050828560208602820111156123405761233f613a18565b5b60005b8581101561237057816123568882612415565b845260208401935060208301925050600181019050612343565b5050509392505050565b60008135905061238981613ee8565b92915050565b600082601f8301126123a4576123a3613a09565b5b81356123b484826020860161229a565b91505092915050565b600082601f8301126123d2576123d1613a09565b5b81356123e284826020860161230a565b91505092915050565b6000815190506123fa81613eff565b92915050565b60008135905061240f81613f16565b92915050565b60008135905061242481613f2d565b92915050565b60008151905061243981613f2d565b92915050565b60008083601f84011261245557612454613a09565b5b8235905067ffffffffffffffff81111561247257612471613a04565b5b60208301915083600182028301111561248e5761248d613a18565b5b9250929050565b6000813590506124a481613f44565b92915050565b6000813590506124b981613f5b565b92915050565b6000813590506124ce81613f72565b92915050565b6000813590506124e381613f89565b92915050565b6000602082840312156124ff576124fe613a22565b5b600061250d848285016123eb565b91505092915050565b60006020828403121561252c5761252b613a22565b5b600061253a84828501612400565b91505092915050565b60006020828403121561255957612558613a22565b5b60006125678482850161242a565b91505092915050565b60008060006040848603121561258957612588613a22565b5b600084013567ffffffffffffffff8111156125a7576125a6613a1d565b5b6125b38682870161243f565b935093505060206125c68682870161237a565b9150509250925092565b6000602082840312156125e6576125e5613a22565b5b60006125f4848285016124aa565b91505092915050565b600080600080600060a0868803121561261957612618613a22565b5b6000612627888289016124aa565b9550506020612638888289016124aa565b9450506040612649888289016124aa565b935050606086013567ffffffffffffffff81111561266a57612669613a1d565b5b6126768882890161238f565b925050608061268788828901612495565b9150509295509295909350565b6000602082840312156126aa576126a9613a22565b5b60006126b8848285016124d4565b91505092915050565b60008060008060008060a087890312156126de576126dd613a22565b5b60006126ec89828a016124d4565b96505060206126fd89828a0161237a565b955050604061270e89828a016124aa565b945050606061271f89828a016124bf565b935050608087013567ffffffffffffffff8111156127405761273f613a1d565b5b61274c89828a0161243f565b92509250509295509295509295565b600080600080600060a0868803121561277757612776613a22565b5b6000612785888289016124d4565b95505060206127968882890161237a565b94505060406127a7888289016124aa565b93505060606127b8888289016124d4565b925050608086013567ffffffffffffffff8111156127d9576127d8613a1d565b5b6127e5888289016123bd565b9150509295509295909350565b6000806000806000806080878903121561280f5761280e613a22565b5b600061281d89828a016124d4565b965050602087013567ffffffffffffffff81111561283e5761283d613a1d565b5b61284a89828a0161243f565b9550955050604061285d89828a01612415565b935050606087013567ffffffffffffffff81111561287e5761287d613a1d565b5b61288a89828a0161243f565b92509250509295509295509295565b6128a2816136dd565b82525050565b6128b96128b4826136dd565b6138cf565b82525050565b6128c8816136fb565b82525050565b6128d781613727565b82525050565b6128ee6128e982613727565b6138e1565b82525050565b60006129008385613522565b935061290d8385846137e6565b61291683613a27565b840190509392505050565b600061292d8385613533565b935061293a8385846137e6565b82840190509392505050565b60006129518261350c565b61295b8185613533565b935061296b8185602086016137f5565b80840191505092915050565b6129808161379e565b82525050565b61298f816137c2565b82525050565b61299e816137d4565b82525050565b60006129af82613517565b6129b9818561353e565b93506129c98185602086016137f5565b6129d281613a27565b840191505092915050565b60006129ea60188361353e565b91506129f582613a52565b602082019050919050565b6000612a0d601c8361353e565b9150612a1882613a7b565b602082019050919050565b6000612a30601f8361353e565b9150612a3b82613aa4565b602082019050919050565b6000612a5360158361353e565b9150612a5e82613acd565b602082019050919050565b6000612a7660168361353e565b9150612a8182613af6565b602082019050919050565b6000612a9960138361353e565b9150612aa482613b1f565b602082019050919050565b6000612abc60198361353e565b9150612ac782613b48565b602082019050919050565b6000612adf60118361353e565b9150612aea82613b71565b602082019050919050565b6000612b02601c8361353e565b9150612b0d82613b9a565b602082019050919050565b6000612b25603a8361353e565b9150612b3082613bc3565b604082019050919050565b6000612b4860228361353e565b9150612b5382613c12565b604082019050919050565b6000612b6b601d8361353e565b9150612b7682613c61565b602082019050919050565b6000612b8e601a8361353e565b9150612b9982613c8a565b602082019050919050565b6000612bb160298361353e565b9150612bbc82613cb3565b604082019050919050565b6000612bd4602e8361353e565b9150612bdf82613d02565b604082019050919050565b6000612bf7602e8361353e565b9150612c0282613d51565b604082019050919050565b6000612c1a60168361353e565b9150612c2582613da0565b602082019050919050565b6000612c3d601f8361353e565b9150612c4882613dc9565b602082019050919050565b6000612c60602d8361353e565b9150612c6b82613df2565b604082019050919050565b6000612c83601c8361353e565b9150612c8e82613e41565b602082019050919050565b6000612ca6600083613533565b9150612cb182613e6a565b600082019050919050565b6000612cc9601d8361353e565b9150612cd482613e6d565b602082019050919050565b6000612cec60208361353e565b9150612cf782613e96565b602082019050919050565b6000612d0f600a8361353e565b9150612d1a82613ebf565b602082019050919050565b612d2e81613763565b82525050565b612d45612d4082613763565b6138fd565b82525050565b612d548161376d565b82525050565b612d638161377d565b82525050565b612d7a612d758261377d565b613907565b82525050565b612d8981613791565b82525050565b6000612d9b82866128a8565b601482019150612dab82856128a8565b601482019150612dbb82846128a8565b601482019150819050949350505050565b6000612dd882886128a8565b601482019150612de88287612d69565b600882019150612df882866128dd565b602082019150612e09828486612921565b91508190509695505050505050565b6000612e2482886128a8565b601482019150612e348287612d69565b600882019150612e448286612d69565b600882019150612e5482856128a8565b601482019150612e648284612d34565b6020820191508190509695505050505050565b6000612e838284612946565b915081905092915050565b6000612e9982612c99565b9150819050919050565b6000612eaf8286612d69565b600882019150612ebf82856128a8565b601482019150612ecf8284612d34565b602082019150819050949350505050565b6000612eec8287612d69565b600882019150612efc8286612d69565b600882019150612f0c82856128a8565b601482019150612f1c8284612d34565b60208201915081905095945050505050565b6000602082019050612f436000830184612899565b92915050565b6000602082019050612f5e60008301846128ce565b92915050565b6000604082019050612f7960008301856128ce565b612f8660208301846128ce565b9392505050565b6000604082019050612fa260008301866128ce565b8181036020830152612fb58184866128f4565b9050949350505050565b6000608082019050612fd460008301876128ce565b612fe16020830186612d80565b612fee60408301856128ce565b612ffb60608301846128ce565b95945050505050565b60006020820190506130196000830184612977565b92915050565b60006020820190506130346000830184612995565b92915050565b6000602082019050818103600083015261305481846129a4565b905092915050565b60006020820190508181036000830152613075816129dd565b9050919050565b6000602082019050818103600083015261309581612a00565b9050919050565b600060208201905081810360008301526130b581612a23565b9050919050565b600060208201905081810360008301526130d581612a46565b9050919050565b600060208201905081810360008301526130f581612a69565b9050919050565b6000602082019050818103600083015261311581612a8c565b9050919050565b6000602082019050818103600083015261313581612aaf565b9050919050565b6000602082019050818103600083015261315581612ad2565b9050919050565b6000602082019050818103600083015261317581612af5565b9050919050565b6000602082019050818103600083015261319581612b18565b9050919050565b600060208201905081810360008301526131b581612b3b565b9050919050565b600060208201905081810360008301526131d581612b5e565b9050919050565b600060208201905081810360008301526131f581612b81565b9050919050565b6000602082019050818103600083015261321581612ba4565b9050919050565b6000602082019050818103600083015261323581612bc7565b9050919050565b6000602082019050818103600083015261325581612bea565b9050919050565b6000602082019050818103600083015261327581612c0d565b9050919050565b6000602082019050818103600083015261329581612c30565b9050919050565b600060208201905081810360008301526132b581612c53565b9050919050565b600060208201905081810360008301526132d581612c76565b9050919050565b600060208201905081810360008301526132f581612cbc565b9050919050565b6000602082019050818103600083015261331581612cdf565b9050919050565b6000602082019050818103600083015261333581612d02565b9050919050565b60006020820190506133516000830184612d25565b92915050565b600060208201905061336c6000830184612d5a565b92915050565b600060a0820190506133876000830188612d5a565b6133946020830187612899565b6133a16040830186612d25565b6133ae6060830185612d5a565b6133bb6080830184612986565b9695505050505050565b600060a0820190506133da6000830188612d5a565b6133e76020830187612899565b6133f46040830186612d25565b6134016060830185612d5a565b61340e6080830184612d4b565b9695505050505050565b600060608201905061342d6000830186612d5a565b61343a60208301856128bf565b6134476040830184612d25565b949350505050565b60006060820190506134646000830187612d5a565b61347160208301866128ce565b81810360408301526134848184866128f4565b905095945050505050565b60006134996134aa565b90506134a58282613828565b919050565b6000604051905090565b600067ffffffffffffffff8211156134cf576134ce6139d5565b5b602082029050602081019050919050565b600067ffffffffffffffff8211156134fb576134fa6139d5565b5b602082029050602081019050919050565b600081519050919050565b600081519050919050565b600082825260208201905092915050565b600081905092915050565b600082825260208201905092915050565b6000808585111561356357613562613a13565b5b8386111561357457613573613a0e565b5b6001850283019150848603905094509492505050565b600061359582613763565b91506135a083613763565b9250827fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff038211156135d5576135d4613919565b5b828201905092915050565b60006135eb8261377d565b91506135f68361377d565b92508267ffffffffffffffff0382111561361357613612613919565b5b828201905092915050565b600061362982613763565b915061363483613763565b92508261364457613643613948565b5b828204905092915050565b600061365a82613763565b915061366583613763565b9250817fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff048311821515161561369e5761369d613919565b5b828202905092915050565b60006136b482613763565b91506136bf83613763565b9250828210156136d2576136d1613919565b5b828203905092915050565b60006136e882613743565b9050919050565b60008115159050919050565b60007fffffffffffffffffffffffffffffffffffffffffff000000000000000000000082169050919050565b6000819050919050565b600061373c826136dd565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b600063ffffffff82169050919050565b600067ffffffffffffffff82169050919050565b600060ff82169050919050565b60006137a9826137b0565b9050919050565b60006137bb82613743565b9050919050565b60006137cd8261376d565b9050919050565b60006137df82613791565b9050919050565b82818337600083830152505050565b60005b838110156138135780820151818401526020810190506137f8565b83811115613822576000848401525b50505050565b61383182613a27565b810181811067ffffffffffffffff821117156138505761384f6139d5565b5b80604052505050565b600061386482613763565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82141561389757613896613919565b5b600182019050919050565b60006138ad8261376d565b915063ffffffff8214156138c4576138c3613919565b5b600182019050919050565b60006138da826138eb565b9050919050565b6000819050919050565b60006138f682613a45565b9050919050565b6000819050919050565b600061391282613a38565b9050919050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052601260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b60008160c01b9050919050565b60008160601b9050919050565b7f45434453413a20696e76616c6964207369676e61747572650000000000000000600082015250565b7f6d757374206265207468726f756768206163746976652070726f787900000000600082015250565b7f45434453413a20696e76616c6964207369676e6174757265206c656e67746800600082015250565b7f4e6f7420656e6f756768207369676e6174757265730000000000000000000000600082015250565b7f556e61626c6520746f207665726966792070726f6f6600000000000000000000600082015250565b7f496e76616c69642064657374696e6174696f6e00000000000000000000000000600082015250565b7f556e61626c6520746f20776974686472617720616d6f756e7400000000000000600082015250565b7f496e76616c6964207369676e6174757265000000000000000000000000000000600082015250565b7f5769746864726177616c20616c72656164792070726f63657373656400000000600082015250565b7f416464726573733a20756e61626c6520746f2073656e642076616c75652c207260008201527f6563697069656e74206d61792068617665207265766572746564000000000000602082015250565b7f45434453413a20696e76616c6964207369676e6174757265202773272076616c60008201527f7565000000000000000000000000000000000000000000000000000000000000602082015250565b7f416464726573733a20696e73756666696369656e742062616c616e6365000000600082015250565b7f436f756c64206e6f7420766572696679207369676e6174757265000000000000600082015250565b7f45524331393637557067726164653a20756e737570706f727465642070726f7860008201527f6961626c65555549440000000000000000000000000000000000000000000000602082015250565b7f496e697469616c697a61626c653a20636f6e747261637420697320616c72656160008201527f647920696e697469616c697a6564000000000000000000000000000000000000602082015250565b7f45524331393637557067726164653a206e657720696d706c656d656e7461746960008201527f6f6e206973206e6f742055555053000000000000000000000000000000000000602082015250565b7f496e76616c6964206465706f73697420616d6f756e7400000000000000000000600082015250565b7f496e76616c6964206e6f6e636520666f72206f7261636c652075706461746500600082015250565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b7f6d757374206265207468726f7567682064656c656761746563616c6c00000000600082015250565b50565b7f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000600082015250565b7f6d757374206e6f74206265207468726f7567682064656c656761746563616c6c600082015250565b7f4e6f206f7261636c657300000000000000000000000000000000000000000000600082015250565b613ef1816136dd565b8114613efc57600080fd5b50565b613f08816136ef565b8114613f1357600080fd5b50565b613f1f816136fb565b8114613f2a57600080fd5b50565b613f3681613727565b8114613f4157600080fd5b50565b613f4d81613731565b8114613f5857600080fd5b50565b613f6481613763565b8114613f6f57600080fd5b50565b613f7b8161376d565b8114613f8657600080fd5b50565b613f928161377d565b8114613f9d57600080fd5b5056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220ec19cc9a18765066f3540bac88734a76ef6899be5d62061d9d15d2bdb0338f4a64736f6c63430008060033";

    document.getElementById("byoc-onboarding-implementation-payload").value =
        isNativeToken() ? nativeTokenImplementationCode : erc20ImplementationCode;

    const price = readInputValue("byoc-onboarding-price");
    const erc20 = readInputValue("byoc-onboarding-erc20");
    const erc20Decimals = readInputValue("byoc-onboarding-erc20-decimals");

    const implementationAddress = readInputValue("byoc-onboarding-implementation-address");

    let proxyInitialization = "";
    let votePayload = "";
    const erc20Populated = isNativeToken() || (isAddress(erc20) && isInteger(erc20Decimals));

    if (isPrice(price) && isAddress(implementationAddress) && erc20Populated) {
      let functionHeader;
      let offset;
      let decimals;
      if (!isNativeToken()) {
        functionHeader = "907cc7b1" + pad(erc20);
        offset = "c0";
        decimals = Number(erc20Decimals);
      } else {
        functionHeader = "f358ec61";
        offset = "a0";
        decimals = 18;
      }

      const indexOf = price.indexOf(".");
      let priceDecimals = 0;
      let priceBigInt;
      if (indexOf > -1) {
        const withoutDecimalPoint = price.replace(".", "");
        priceDecimals = withoutDecimalPoint.length - indexOf;
        priceBigInt = BigInt(withoutDecimalPoint);
      } else {
        priceDecimals = 0;
        priceBigInt = BigInt(price);
      }

      function valueToCoins(value) {
        const coinsBigInt = BigInt(value) * (BigInt(10) ** BigInt(decimals + priceDecimals))
            / priceBigInt;
        return pad(coinsBigInt.toString(16));
      }

      const withdrawMin = valueToCoins(25);
      const withdrawMax = valueToCoins(200000);
      const depositMin = withdrawMin;
      const depositMax = valueToCoins(100000);

      const chain = readIntegratedChain();
      const largeOracleContracts = {
        "Ethereum": "0x3435359Df1D8C126ea1b68BB51E958fdf43F8272",
        "Polygon": "0x3435359Df1D8C126ea1b68BB51E958fdf43F8272",
        "BnbSmartChain": "0x4c4ECb1EFb3BC2a065af1F714B60980a6562C26f",
      };
      const largeOracleContract = largeOracleContracts[chain];
      let encodedInit = functionHeader + pad(depositMin) + pad(depositMax)
          + pad(withdrawMax) + pad(offset) + pad(largeOracleContract) + pad("0");
      const proxyCode = "0x608060405260405162000c6638038062000c6683398181016040528101906200002991906200041e565b6200003d828260006200004560201b60201c565b5050620007e2565b62000056836200008860201b60201c565b600082511180620000645750805b156200008357620000818383620000df60201b620000371760201c565b505b505050565b62000099816200011560201b60201c565b8073ffffffffffffffffffffffffffffffffffffffff167fbc7cd75a20ee27fd9adebab32041f755214dbc6bffa90cc0225b39da2e5c2d3b60405160405180910390a250565b60606200010d838360405180606001604052806027815260200162000c3f60279139620001eb60201b60201c565b905092915050565b6200012b816200027d60201b620000641760201c565b6200016d576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401620001649062000587565b60405180910390fd5b80620001a77f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b620002a060201b620000871760201c565b60000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050565b60606000808573ffffffffffffffffffffffffffffffffffffffff16856040516200021791906200054a565b600060405180830381855af49150503d806000811462000254576040519150601f19603f3d011682016040523d82523d6000602084013e62000259565b606091505b50915091506200027286838387620002aa60201b60201c565b925050509392505050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000819050919050565b606083156200031b576000835114156200031257620002cf856200027d60201b60201c565b62000311576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016200030890620005a9565b60405180910390fd5b5b8290506200032e565b6200032d83836200033660201b60201c565b5b949350505050565b6000825111156200034a5781518083602001fd5b806040517f08c379a000000000000000000000000000000000000000000000000000000000815260040162000380919062000563565b60405180910390fd5b6000620003a06200039a84620005f4565b620005cb565b905082815260208101848484011115620003bf57620003be62000730565b5b620003cc84828562000690565b509392505050565b600081519050620003e581620007c8565b92915050565b600082601f8301126200040357620004026200072b565b5b81516200041584826020860162000389565b91505092915050565b600080604083850312156200043857620004376200073a565b5b60006200044885828601620003d4565b925050602083015167ffffffffffffffff8111156200046c576200046b62000735565b5b6200047a85828601620003eb565b9150509250929050565b600062000491826200062a565b6200049d818562000640565b9350620004af81856020860162000690565b80840191505092915050565b6000620004c88262000635565b620004d481856200064b565b9350620004e681856020860162000690565b620004f1816200073f565b840191505092915050565b60006200050b602d836200064b565b9150620005188262000750565b604082019050919050565b600062000532601d836200064b565b91506200053f826200079f565b602082019050919050565b600062000558828462000484565b915081905092915050565b600060208201905081810360008301526200057f8184620004bb565b905092915050565b60006020820190508181036000830152620005a281620004fc565b9050919050565b60006020820190508181036000830152620005c48162000523565b9050919050565b6000620005d7620005ea565b9050620005e58282620006c6565b919050565b6000604051905090565b600067ffffffffffffffff821115620006125762000611620006fc565b5b6200061d826200073f565b9050602081019050919050565b600081519050919050565b600081519050919050565b600081905092915050565b600082825260208201905092915050565b6000620006698262000670565b9050919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60005b83811015620006b057808201518184015260208101905062000693565b83811115620006c0576000848401525b50505050565b620006d1826200073f565b810181811067ffffffffffffffff82111715620006f357620006f2620006fc565b5b80604052505050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b600080fd5b600080fd5b600080fd5b600080fd5b6000601f19601f8301169050919050565b7f455243313936373a206e657720696d706c656d656e746174696f6e206973206e60008201527f6f74206120636f6e747261637400000000000000000000000000000000000000602082015250565b7f416464726573733a2063616c6c20746f206e6f6e2d636f6e7472616374000000600082015250565b620007d3816200065c565b8114620007df57600080fd5b50565b61044d80620007f26000396000f3fe6080604052366100135761001161001d565b005b61001b61001d565b005b610025610091565b610035610030610093565b6100a2565b565b606061005c83836040518060600160405280602781526020016103f1602791396100c8565b905092915050565b6000808273ffffffffffffffffffffffffffffffffffffffff163b119050919050565b6000819050919050565b565b600061009d61014e565b905090565b3660008037600080366000845af43d6000803e80600081146100c3573d6000f35b3d6000fd5b60606000808573ffffffffffffffffffffffffffffffffffffffff16856040516100f291906102f8565b600060405180830381855af49150503d806000811461012d576040519150601f19603f3d011682016040523d82523d6000602084013e610132565b606091505b5091509150610143868383876101a5565b925050509392505050565b600061017c7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc60001b610087565b60000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6060831561020857600083511415610200576101c085610064565b6101ff576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016101f690610331565b60405180910390fd5b5b829050610213565b610212838361021b565b5b949350505050565b60008251111561022e5781518083602001fd5b806040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610262919061030f565b60405180910390fd5b600061027682610351565b6102808185610367565b9350610290818560208601610383565b80840191505092915050565b60006102a78261035c565b6102b18185610372565b93506102c1818560208601610383565b6102ca816103b6565b840191505092915050565b60006102e2601d83610372565b91506102ed826103c7565b602082019050919050565b6000610304828461026b565b915081905092915050565b60006020820190508181036000830152610329818461029c565b905092915050565b6000602082019050818103600083015261034a816102d5565b9050919050565b600081519050919050565b600081519050919050565b600081905092915050565b600082825260208201905092915050565b60005b838110156103a1578082015181840152602081019050610386565b838111156103b0576000848401525b50505050565b6000601f19601f8301169050919050565b7f416464726573733a2063616c6c20746f206e6f6e2d636f6e747261637400000060008201525056fe416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564a2646970667358221220f22f9585399094a806fd5ae221a1ed0ee0e6268e9eff1e6c73e037eb73f141f364736f6c63430008060033416464726573733a206c6f772d6c6576656c2064656c65676174652063616c6c206661696c6564";
      proxyInitialization =
          proxyCode
          + pad(implementationAddress)
          + "0000000000000000000000000000000000000000000000000000000000000040"
          + pad((encodedInit.length / 2).toString(16))
          + encodedInit
          + "00000000000000000000000000000000000000000000000000000000";

      const referenceChain = readInputValue("byoc-onboarding-data-feed-chain");
      const referenceContract = readInputValue("byoc-onboarding-data-feed-contract");
      const referenceDecimals = readInputValue("byoc-onboarding-data-feed-decimals");
      const proxyAddress = readInputValue("byoc-onboarding-proxy-address");
      const tokenName = readInputValue("byoc-onboarding-token-name");
      const priceInformationSupplied = isStableCoin()
          || (!isNullOrUndefined(referenceChain) && isAddress(referenceContract) && isInteger(referenceDecimals));
      if (isAddress(proxyAddress) && priceInformationSupplied && tokenName !== "") {
        const symbol = (isNativeToken() ? tokenName : chain + "_" + tokenName).toUpperCase();

        let numerator = priceBigInt * BigInt(100000);
        let denominator = (BigInt(10) ** BigInt(decimals + priceDecimals));
        const maxValue = BigInt(2) ** BigInt(63);
        while (numerator > maxValue || denominator > maxValue) {
          denominator = denominator / BigInt(10);
          numerator = numerator / BigInt(10);
        }

        const priceOracleConfig = isStableCoin()
            ? "00"
            : "01" + stringAsHex(pad(referenceContract, 40)) + pad(decimals.toString(16), 8) + pad(
            referenceDecimals.toString(16), 8) + stringAsHex(referenceChain);

        const addByocRpc = "00"
            + stringAsHex(symbol)
            + stringAsHex(chain)
            + pad(numerator.toString(16), 16)
            + pad(denominator.toString(16), 16)
            + withdrawMax
            + withdrawMin
            + depositMax
            + pad(proxyAddress, 40)
            + priceOracleConfig;
        votePayload =
            "0458ff0a290e2fe847b23a364925799d1c53c8b36b"
            + pad((addByocRpc.length / 2).toString(16), 8)
            + addByocRpc
            + pad((250000).toString(16), 16); //Cost upper bound

      }
    }
    document.getElementById("byoc-onboarding-proxy-payload").value = proxyInitialization;
    document.getElementById("byoc-onboarding-vote-payload").value = votePayload;
  }

  function stringAsHex(value) {
    let result = pad(value.length.toString(16), 8);
    for (let i = 0; i < value.length; i++) {
      result += pad(value.charCodeAt(i).toString(16), 2);
    }
    return result;
  }

  function pad(value, charCount = 64) {
    if (value.startsWith("0x")) {
      value = value.substr(2);
    }
    return value.padStart(charCount, "0");
  }

  updateFields();
</script>
